<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 tabindex="-1" dir="auto"><a id="user-content-yolo-v4-v3-and-v2-for-windows-and-linux" class="anchor" aria-hidden="true" tabindex="-1" href="#yolo-v4-v3-and-v2-for-windows-and-linux"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于 Windows 和 Linux 的 Yolo v4、v3 和 v2</font></font></h1>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读常见问题解答：   </font></font><a href="https://www.ccoderun.ca/programming/darknet_faq/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.ccoderun.ca/programming/darknet_faq/</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加入 Darknet/YOLO Discord：   </font></font><a href="https://discord.gg/zSq8rtW" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://discord.gg/zSq8rtW</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Darknet/YOLO 的推荐 GitHub 存储库：   </font></font><a href="https://github.com/hank-ai/darknetcv/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/hank-ai/darknetcv/</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hank.ai 和 Darknet/YOLO：   </font></font><a href="https://hank.ai/darknet-welcomes-hank-ai-as-official-sponsor-and-commercial-entity/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://hank.ai/darknet-welcomes-hank-ai-as-official-sponsor-and-commercial-entity/</font></font></a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-neural-networks-for-object-detection" class="anchor" aria-hidden="true" tabindex="-1" href="#neural-networks-for-object-detection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（用于物体检测的神经网络）</font></font></h2>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://arxiv.org/abs/2207.02696" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/2207.02696</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码 YOLOv7 - Pytorch（用于重现结果）：</font></font><a href="https://github.com/WongKinYiu/yolov7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://github.com/WongKinYiu/yolov7</font></font></a></p>
</li>
</ul>
<hr>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://arxiv.org/abs/2004.10934" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/2004.10934</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码 YOLOv4 - Darknet（用于重现结果）：</font></font><a href="https://github.com/AlexeyAB/darknet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://github.com/AlexeyAB/darknet</font></font></a></p>
</li>
</ul>
<hr>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩放-YOLOv4（CVPR 2021）</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://openaccess.thecvf.com/content/CVPR2021/html/Wang_Scaled-YOLOv4_Scaling_Cross_Stage_Partial_Network_CVPR_2021_paper.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://openaccess.thecvf.com/content/CVPR2021/html/Wang_Scaled-YOLOv4_Scaling_Cross_Stage_Partial_Network_CVPR_2021_paper.html</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码 Scaled-YOLOv4 - Pytorch（用于重现结果）：</font></font><a href="https://github.com/WongKinYiu/ScaledYOLOv4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/WongKinYiu/ScaledYOLOv4</font></font></a></p>
</li>
</ul>
<hr>
<h3 tabindex="-1" dir="auto"><a id="user-content-yolov7-trainable-bag-of-freebies-sets-new-state-of-the-art-for-real-time-object-detectors" class="anchor" aria-hidden="true" tabindex="-1" href="#yolov7-trainable-bag-of-freebies-sets-new-state-of-the-art-for-real-time-object-detectors"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7：可训练的免费赠品袋为实时物体检测器设置了新的最先进技术</font></font></h3>
<ul dir="auto">
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://arxiv.org/abs/2207.02696" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://arxiv.org/abs/2207.02696</font></font></a></p>
</li>
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码 - Pytorch（用于重现结果）：</font></font></strong> <a href="https://github.com/WongKinYiu/yolov7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/WongKinYiu/yolov7</font></font></a></p>
</li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7 比 YOLOv5 提高120%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS、比 YOLOX 提高</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">180%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS、比 Dual-Swin-T 提高</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1200%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS、比 ConvNext 提高</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">550%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS、比 SWIN-L 提高</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS、比 PYOLOE</font><font style="vertical-align: inherit;">更准确、更快</font><font style="vertical-align: inherit;">X </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> FPS。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7 在 5 FPS 到 160 FPS 范围内的速度和精度都超过了所有已知的目标检测器，并且在 GPU V100、batch=1 上具有 30 FPS 或更高的所有已知实时目标检测器中具有最高的精度 56.8% AP。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7-e6 (55.9% AP, 56 FPS V100 b=1) </font></font><code>+500%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 SWIN-L CM-RCNN (53.9% AP, 9.2 FPS A100 b=1) 快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7-e6 (55.9% AP, 56 FPS V100 b=1) </font></font><code>+550%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 ConvNeXt-XL CM-RCNN (55.2% AP, 8.6 FPS A100 b=1) 快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7-w6 (54.6% AP, 84 FPS V100 b=1) </font></font><code>+120%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 YOLOv5-X6-r6.1 (55.0% AP, 38 FPS V100 b=1) 快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7-w6 (54.6% AP, 84 FPS V100 b=1) </font></font><code>+1200%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 Dual-Swin-T CM-RCNN (53.6% AP, 6.5 FPS V100 b=1) 快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7x（52.9% AP，114 FPS V100 b=1）的</font></font><code>+150%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 PYOLOE-X（51.9% AP，45 FPS V100 b=1）快</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv7 (51.2% AP, 161 FPS V100 b=1) </font></font><code>+180%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPS 比 YOLOX-X (51.1% AP, 58 FPS V100 b=1) 快</font></font></li>
</ul>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4096485/179425274-f55a36d4-8450-4471-816b-8c105841effd.jpg"><img src="https://user-images.githubusercontent.com/4096485/179425274-f55a36d4-8450-4471-816b-8c105841effd.jpg" alt="更多5" style="max-width: 100%;"></a></p>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4096485/177675030-a929ee00-0eba-4d93-95c2-225231d0fd61.png"><img src="https://user-images.githubusercontent.com/4096485/177675030-a929ee00-0eba-4d93-95c2-225231d0fd61.png" alt="图像" style="max-width: 100%;"></a></p>
<hr>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多详细信息请参阅媒体文章：</font></font></p>
<ul dir="auto">
<li><a href="https://alexeyab84.medium.com/scaled-yolo-v4-is-the-best-neural-network-for-object-detection-on-ms-coco-dataset-39dfa22fa982?source=friends_link&amp;sk=c8553bfed861b1a7932f739d26f487c8" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaled_YOLOv4</font></font></a></li>
<li><a href="https://medium.com/@alexeyab84/yolov4-the-most-accurate-real-time-neural-network-on-ms-coco-dataset-73adfd3602fe?source=friends_link&amp;sk=6039748846bbcf1d960c3061542591d7" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv4</font></font></a></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册： https: </font></font><a href="https://github.com/AlexeyAB/darknet/wiki"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/darknet/wiki</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论：</font></font></p>
<ul dir="auto">
<li><a href="https://discord.gg/zSq8rtW" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不和谐</font></font></a></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于Darknet框架：</font></font><a href="http://pjreddie.com/darknet/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://pjreddie.com/darknet/</font></font></a></p>
<p dir="auto"><a href="https://github.com/AlexeyAB/darknet/actions?query=workflow%3A%22Darknet+Continuous+Integration%22"><img src="https://github.com/AlexeyAB/darknet/workflows/Darknet%20Continuous%20Integration/badge.svg" alt="暗网持续集成" style="max-width: 100%;"></a>
<a href="https://circleci.com/gh/AlexeyAB/darknet" rel="nofollow"><img src="https://camo.githubusercontent.com/0da8db1586bfe052dbb5397fb03721bae0fa095a1d12b1c0cb5e7be2e4cb579c/68747470733a2f2f636972636c6563692e636f6d2f67682f416c6578657941422f6461726b6e65742e7376673f7374796c653d737667" alt="循环CI" data-canonical-src="https://circleci.com/gh/AlexeyAB/darknet.svg?style=svg" style="max-width: 100%;"></a>
<a href="https://github.com/AlexeyAB/darknet/graphs/contributors"><img src="https://camo.githubusercontent.com/c7f59d522fb04cb70f7a3d9719bb972e4cb6c4e605a9e044f7c717fb16e6d4d0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f416c6578657941422f4461726b6e65742e737667" alt="贡献者" data-canonical-src="https://img.shields.io/github/contributors/AlexeyAB/Darknet.svg" style="max-width: 100%;"></a>
<a href="https://github.com/AlexeyAB/darknet/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/2235ae6d2ae8f7b1c6b1ebf5248b4d2ee887df2b3d2881e6192b794b16b37466/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d556e6c6963656e73652d626c75652e737667" alt="许可证：无许可证" data-canonical-src="https://img.shields.io/badge/license-Unlicense-blue.svg" style="max-width: 100%;"></a>
<a href="https://zenodo.org/badge/latestdoi/75388965" rel="nofollow"><img src="https://camo.githubusercontent.com/eab472476227e3bc90205a2a2677663e2874345fccfac137834ad648fe727238/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f37353338383936352e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/75388965.svg" style="max-width: 100%;"></a>
<a href="https://arxiv.org/abs/2004.10934" rel="nofollow"><img src="https://camo.githubusercontent.com/602329094327d446d444d37a5388bdd254d673ed3d340fe6534e60846bf700ce/687474703a2f2f696d672e736869656c64732e696f2f62616467652f63732e43562d6172586976253341323030342e31303933342d4233314231422e737667" alt="arxiv.org" data-canonical-src="http://img.shields.io/badge/cs.CV-arXiv%3A2004.10934-B31B1B.svg" style="max-width: 100%;"></a>
<a href="https://arxiv.org/abs/2011.08036" rel="nofollow"><img src="https://camo.githubusercontent.com/403fc57d16cbbb02bb6eef520f27c91a4681c2bf7b5d7042da85ac2e86aa047b/687474703a2f2f696d672e736869656c64732e696f2f62616467652f63732e43562d6172586976253341323031312e30383033362d4233314231422e737667" alt="arxiv.org" data-canonical-src="http://img.shields.io/badge/cs.CV-arXiv%3A2011.08036-B31B1B.svg" style="max-width: 100%;"></a>
<a href="https://colab.research.google.com/drive/12QusaaRj_lUwCGDvQNfICpa7kA7_a2dE" rel="nofollow"><img src="https://user-images.githubusercontent.com/4096485/86174089-b2709f80-bb29-11ea-9faf-3d8dc668a1a5.png" alt="科拉布" style="max-width: 100%;"></a>
<a href="https://colab.research.google.com/drive/1_GdoqCJWXsChrOiY8sZMr_zbr_fH-0Fg" rel="nofollow"><img src="https://user-images.githubusercontent.com/4096485/86174097-b56b9000-bb29-11ea-9240-c17f6bacfc34.png" alt="科拉布" style="max-width: 100%;"></a></p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://github.com/AlexeyAB/darknet/wiki/YOLOv4-model-zoo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv4模型动物园</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="#requirements-for-windows-linux-and-macos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求（以及如何安装依赖项）</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="#pre-trained-models"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练模型</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="https://github.com/AlexeyAB/darknet/wiki/FAQ---frequently-asked-questions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FAQ——常见问题</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="https://github.com/AlexeyAB/darknet/issues?q=is%3Aopen+is%3Aissue+label%3AExplanations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题中的解释</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="#yolo-v4-in-other-frameworks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他框架中的 Yolo v4（TensorRT、TensorFlow、PyTorch、OpenVINO、OpenCV-dnn、TVM...）</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="#datasets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据集</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="#yolo-v4-v3-and-v2-for-windows-and-linux"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于 Windows 和 Linux 的 Yolo v4、v3 和 v2</font></font></a></p>
<ul dir="auto">
<li><a href="#neural-networks-for-object-detection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（用于物体检测的神经网络）</font></font></a>
<ul dir="auto">
<li><a href="#geforce-rtx-2080-ti"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeForce RTX 2080 Ti</font></font></a>
<ul dir="auto">
<li><a href="#youtube-video-of-results"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTube 视频结果</font></font></a></li>
<li><a href="#how-to-evaluate-ap-of-yolov4-on-the-ms-coco-evaluation-server"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在MS COCO评估服务器上评估YOLOv4的AP</font></font></a></li>
<li><a href="#how-to-evaluate-fps-of-yolov4-on-gpu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何评估YOLOv4在GPU上的FPS</font></font></a></li>
<li><a href="#pre-trained-models"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练模型</font></font></a></li>
</ul>
</li>
<li><a href="#requirements-for-windows-linux-and-macos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows、Linux 和 macOS 的要求</font></font></a></li>
<li><a href="#yolo-v4-in-other-frameworks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他框架中的 Yolo v4</font></font></a>
<ul dir="auto">
<li><a href="#datasets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据集</font></font></a></li>
</ul>
</li>
<li><a href="#improvements-in-this-repository"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此存储库的改进</font></font></a>
<ul dir="auto">
<li><a href="#how-to-use-on-the-command-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在命令行中使用</font></font></a>
<ul dir="auto">
<li><a href="#for-using-network-video-camera-mjpeg-stream-with-any-android-smartphone"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在任何 Android 智能手机上使用网络摄像机 mjpeg-stream</font></font></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#how-to-compile-on-linuxmacos-using-cmake"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在 Linux/macOS 上编译（使用</font></font><code>CMake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></a></li>
<li><a href="#using-also-powershell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还使用 PowerShell</font></font></a></li>
<li><a href="#how-to-compile-on-linux-using-make"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Linux上编译（使用</font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></a></li>
<li><a href="#how-to-compile-on-windows-using-cmake"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Windows上编译（使用</font></font><code>CMake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></a></li>
<li><a href="#how-to-compile-on-windows-using-vcpkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Windows上编译（使用</font></font><code>vcpkg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></a></li>
</ul>
</li>
<li><a href="#how-to-train-with-multi-gpu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用多 GPU 进行训练</font></font></a></li>
<li><a href="#how-to-train-to-detect-your-custom-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何训练（检测您的自定义对象）</font></font></a>
<ul dir="auto">
<li><a href="#how-to-train-tiny-yolo-to-detect-your-custom-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何训练tiny-yolo（以检测您的自定义对象）</font></font></a></li>
</ul>
</li>
<li><a href="#when-should-i-stop-training"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我什么时候应该停止训练</font></font></a>
<ul dir="auto">
<li><a href="#custom-object-detection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义物体检测</font></font></a></li>
</ul>
</li>
<li><a href="#how-to-improve-object-detection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何改进物体检测</font></font></a></li>
<li><a href="#how-to-mark-bounded-boxes-of-objects-and-create-annotation-files"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何标记对象的有界框并创建注释文件</font></font></a></li>
<li><a href="#how-to-use-yolo-as-dll-and-so-libraries"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用Yolo作为DLL和SO库</font></font></a></li>
<li><a href="#citation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引文</font></font></a></li>
</ul>
</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6b6b107c6a49f71825235983fedff11a9bccb296ee72fe56a6c8d91ed91d5277/687474703a2f2f706a7265646469652e636f6d2f6d656469612f66696c65732f6461726b6e65742d626c61636b2d736d616c6c2e706e67"><img src="https://camo.githubusercontent.com/6b6b107c6a49f71825235983fedff11a9bccb296ee72fe56a6c8d91ed91d5277/687474703a2f2f706a7265646469652e636f6d2f6d656469612f66696c65732f6461726b6e65742d626c61636b2d736d616c6c2e706e67" alt="暗网标志" data-canonical-src="http://pjreddie.com/media/files/darknet-black-small.png" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4096485/112776361-281d8380-9048-11eb-8083-8728b12dcd55.png"><img src="https://user-images.githubusercontent.com/4096485/112776361-281d8380-9048-11eb-8083-8728b12dcd55.png" alt="缩放_yolov4" style="max-width: 100%;"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AP50:95 - FPS (Tesla V100) 论文： https: </font></font><a href="https://arxiv.org/abs/2011.08036" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//arxiv.org/abs/2011.08036</font></font></a></p>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4096485/82835867-f1c62380-9ecd-11ea-9134-1598ed2abc4b.png"><img src="https://user-images.githubusercontent.com/4096485/82835867-f1c62380-9ecd-11ea-9134-1598ed2abc4b.png" alt="现代GPU" style="max-width: 100%;"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AP50:95 / AP50 - FPS (Tesla V100) 论文： https: </font></font><a href="https://arxiv.org/abs/2004.10934" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//arxiv.org/abs/2004.10934</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN-TensorRT</font><font style="vertical-align: inherit;">在批次 = 1 时将 YOLOv4 加速</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约 2 倍，在批次 = 4 时将 YOLOv4 加速</font></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 至 4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倍。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN： https: </font></font><a href="https://github.com/ceccocats/tkDNN"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/ceccocats/tkDNN</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV： https: </font></font><a href="https://gist.github.com/YashasSamaga/48bdb167303e10f4d07b754888ddbdcf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//gist.github.com/YashasSamaga/48bdb167303e10f4d07b754888ddbdcf</font></font></a></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-geforce-rtx-2080-ti" class="anchor" aria-hidden="true" tabindex="-1" href="#geforce-rtx-2080-ti"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeForce RTX 2080 Ti</font></font></h3>
<table>
<thead>
<tr>
<th align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络规模</font></font></th>
<th align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网，FPS（平均）</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN TensorRT FP32、FPS</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN TensorRT FP16、FPS</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV FP16、FPS</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN TensorRT FP16 批次=4，FPS</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV FP16 批次=4，FPS</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tkDNN 加速</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">320</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">116</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第202章</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">183</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第423章</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第430章</font></font></strong></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3倍</font></font></strong></td>
</tr>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第416章</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">82</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">162</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">159</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第284章</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">294</font></font></strong></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.6倍</font></font></strong></td>
</tr>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第512章</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">134</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">138</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">206</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">216</font></font></strong></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1倍</font></font></strong></td>
</tr>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">608</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150</font></font></strong></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8倍</font></font></strong></td>
</tr>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小416</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第443章</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">609</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第790章</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第773章</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1774章</font></font></strong></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1353章</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5倍</font></font></strong></td>
</tr>
<tr>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微型 416 CPU 酷睿 i7 7700HQ</font></font></td>
<td align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39</font></font></td>
<td align="right"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12x</font></font></strong></td>
</tr>
</tbody>
</table>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 完整比较：</font></font><a href="https://user-images.githubusercontent.com/4096485/80283279-0e303e00-871f-11ea-814c-870967d77fd1.png" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">map_fps</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 微小比较：</font></font><a href="https://user-images.githubusercontent.com/4096485/85734112-6e366700-b705-11ea-95d1-fcba0de76d72.png" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiny_fps</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSPNet：</font></font><a href="https://arxiv.org/abs/1911.11929" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://user-images.githubusercontent.com/4096485/71702416-6645dc00-2de0-11ea-8d65-de7d4b604021.png" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">map_fps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较：</font></font><a href="https://github.com/WongKinYiu/CrossStagePartialNetworks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/WongKinYiu/CrossStagePartialNetworks</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS COCO 上的 Yolo v3：</font></font><a href="https://user-images.githubusercontent.com/4096485/52151356-e5d4a380-2683-11e9-9d7d-ac7bc192c477.jpg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度/准确度 (mAP@0.5) 图表</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS COCO 上的 Yolo v3（Yolo v3 与 RetinaNet） - 图 3：</font></font><a href="https://arxiv.org/pdf/1804.02767v1.pdf" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/pdf/1804.02767v1.pdf</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pascal VOC 2007 上的 Yolo v2：</font></font><a href="https://hsto.org/files/a24/21e/068/a2421e0689fb43f08584de9d44c2215f.jpg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://hsto.org/files/a24/21e/068/a2421e0689fb43f08584de9d44c2215f.jpg</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pascal VOC 2012 上的 Yolo v2（comp4）：</font></font><a href="https://hsto.org/files/3a6/fdf/b53/3a6fdfb533f34cee9b52bdd9bb0b19d9.jpg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://hsto.org/files/3a6/fdf/b53/3a6fdfb533f34cee9b52bdd9bb0b19d9.jpg</font></font></a></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-youtube-video-of-results" class="anchor" aria-hidden="true" tabindex="-1" href="#youtube-video-of-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTube 视频结果</font></font></h4>
<table>
<thead>
<tr>
<th><a href="https://youtu.be/1_SiUOYUoOI" title="约洛 v4" rel="nofollow"><img src="https://user-images.githubusercontent.com/4096485/101360000-1a33cf00-38ae-11eb-9e5e-b29c5fb0afbe.png" alt="约洛 v4" style="max-width: 100%;"></a></th>
<th><a href="https://youtu.be/YDFf-TqJOFE" title="缩放 Yolo v4" rel="nofollow"><img src="https://user-images.githubusercontent.com/4096485/101359389-43a02b00-38ad-11eb-866c-f813e96bf61a.png" alt="缩放 Yolo v4" style="max-width: 100%;"></a></th>
</tr>
</thead>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他： https: </font></font><a href="https://www.youtube.com/user/pjreddie/videos" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.youtube.com/user/pjreddie/videos</font></font></a></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-how-to-evaluate-ap-of-yolov4-on-the-ms-coco-evaluation-server" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-evaluate-ap-of-yolov4-on-the-ms-coco-evaluation-server"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在MS COCO评估服务器上评估YOLOv4的AP</font></font></h4>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 MS COCO 服务器下载并解压 test-dev2017 数据集：</font></font><a href="http://images.cocodataset.org/zips/test2017.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://images.cocodataset.org/zips/test2017.zip</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载检测任务的图像列表并将路径替换为您的路径： https: </font></font><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/scripts/testdev2017.txt" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//raw.githubusercontent.com/AlexeyAB/darknet/master/scripts/testdev2017.txt</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font><code>yolov4.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件 245 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Google 驱动镜像</font></font><a href="https://drive.google.com/open?id=1cewMfusmPjYWbrnuJRuKhPMwRe_b9PaT" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的内容</font></font><code>cfg/coco.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该是</font></font></li>
</ol>
<div class="highlight highlight-source-ini notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">classes</span>= 80
<span class="pl-k">train</span>  = &lt;replace with your path&gt;/trainvalno5k.txt
<span class="pl-k">valid</span> = &lt;replace with your path&gt;/testdev2017.txt
<span class="pl-k">names</span> = data/coco.names
<span class="pl-k">backup</span> = backup
<span class="pl-k">eval</span>=coco</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="classes= 80
train  = <replace with your path>/trainvalno5k.txt
valid = <replace with your path>/testdev2017.txt
names = data/coco.names
backup = backup
eval=coco" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="5" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在可执行文件</font></font><code>/results/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附近</font><font style="vertical-align: inherit;">创建文件夹</font></font><code>./darknet</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行验证：</font></font><code>./darknet detector valid cfg/coco.data cfg/yolov4.cfg yolov4.weights</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件重命名  </font></font><code>/results/coco_results.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code>detections_test-dev2017_yolov4_results.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其压缩为</font></font><code>detections_test-dev2017_yolov4_results.zip</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件提交</font></font><code>detections_test-dev2017_yolov4_results.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到 MS COCO 评估服务器</font></font><code>test-dev2019 (bbox)</code></li>
</ol>
<h4 tabindex="-1" dir="auto"><a id="user-content-how-to-evaluate-fps-of-yolov4-on-gpu" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-evaluate-fps-of-yolov4-on-gpu"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何评估YOLOv4在GPU上的FPS</font></font></h4>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译 Darknet</font></font><code>GPU=1 CUDNN=1 CUDNN_HALF=1 OPENCV=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时使用</font></font><code>Makefile</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font><code>yolov4.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件 245 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Google 驱动镜像</font></font><a href="https://drive.google.com/open?id=1cewMfusmPjYWbrnuJRuKhPMwRe_b9PaT" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取任何 .avi/.mp4 视频文件（最好不要超过 1920x1080，以避免 CPU 性能瓶颈）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行两个命令之一并查看 AVG FPS：</font></font></li>
</ol>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括video_capturing+NMS+drawing_bboxes：
</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights test.mp4 -dont_show -ext_output</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排除 video_capturing + NMS + Drawing_bboxes：
</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights test.mp4 -benchmark</code></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-pre-trained-models" class="anchor" aria-hidden="true" tabindex="-1" href="#pre-trained-models"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练模型</font></font></h4>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的 cfg 文件有不同的权重文件（针对 MS COCO 数据集进行训练）：</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTX 2070 (R) 和 Tesla V100 (V) 上的 FPS：</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-p6.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-p6.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1280x1280 - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.1% mAP@0.5 (54.0% AP@0.5:0.95) - 32(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - xxx BFlops (xxx FMA) - 487 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p6.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-p6.weights</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p6.conv.289"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p6.conv.289</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-p5.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-p5.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 896x896 - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.0% mAP@0.5 (51.6% AP@0.5:0.95) - 43(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - xxx BFlops (xxx FMA) - 271 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p5.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-p5.weights</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p5.conv.232"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-p5.conv.232</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-csp-x-swish.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-csp-x-swish.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 640x640 - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69.9% mAP@0.5 (51.5% AP@0.5:0.95) - 23(R) FPS / 50(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 221 BFlops (110 FMA) - 381 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-x-swish.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4 -csp-x-swish.权重</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-x-swish.conv.192"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-x-swish.conv.192</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-csp-swish.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-csp-swish.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 640x640 - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68.7% mAP@0.5 (50.0% AP@0.5:0.95) - 70(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 120 (60 FMA) - 202 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-swish.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-csp-swish.weights</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-swish.conv.164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp-swish.conv.164</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4x-mish.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4x-mish.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 640x640 - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68.5% mAP@0.5 (50.1% AP@0.5:0.95) - 23(R) FPS / 50(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 221 BFlops (110 FMA) - 381 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4x-mish.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4x-mish.weights</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4x-mish.conv.166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4x-mish.conv.166</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-csp.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-csp.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 202 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-csp.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font><a href="https://arxiv.org/abs/2011.08036" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaled Yolo v4</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需更改</font></font><code>width=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font><code>height=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数</font></font><code>yolov4-csp.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并在所有情况下使用相同的</font></font><code>yolov4-csp.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件：</font></font></p>
<ul dir="auto">
<li><code>width=640 height=640</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在cfg中：</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67.4% mAP@0.5 (48.7% AP@0.5:0.95) - 70(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 120 (60 FMA) BFlops</font></font></li>
<li><code>width=512 height=512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 cfg 中：</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.8% mAP@0.5 (46.2% AP@0.5:0.95) - 93(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 77 (39 FMA) BFlops</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练的预训练权重：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp.conv.142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-csp.conv.142</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 245 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Google-drive 镜像</font></font><a href="https://drive.google.com/open?id=1cewMfusmPjYWbrnuJRuKhPMwRe_b9PaT" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.weights</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）论文</font></font><a href="https://arxiv.org/abs/2004.10934" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
只需更改</font></font><code>width=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font><code>height=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的参数，并</font><font style="vertical-align: inherit;">在所有情况下</font></font><code>yolov4.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用相同的文件：</font></font><code>yolov4.weights</code><font style="vertical-align: inherit;"></font></p>
<ul dir="auto">
<li><code>width=608 height=608</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在cfg中：</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65.7% mAP@0.5 (43.5% AP@0.5:0.95) - 34(R) FPS / 62(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 128.5 BFlops</font></font></li>
<li><code>width=512 height=512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在cfg中：</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.9% mAP@0.5 (43.0% AP@0.5:0.95) - 45(R) FPS / 83(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 91.1 BFlops</font></font></li>
<li><code>width=416 height=416</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在cfg中：</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">62.8% mAP@0.5 (41.2% AP@0.5:0.95) - 55(R) FPS / 96(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 60.1 BFlops</font></font></li>
<li><code>width=320 height=320</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在配置中：    </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">60% mAP@0.5 ( 38% AP@0.5:0.95) - 63(R) FPS / 123(V) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 35.5 BFlops</font></font></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-tiny.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-tiny.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40.2% mAP@0.5 - 371(1080Ti) FPS / 330(RTX2070) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 6.9 BFlops - 23.1 MB：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-tiny.weights"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-tiny.weights</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/enet-coco.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enet-coco.cfg (EfficientNetB0-Yolov3)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45.5% mAP@0.5 - 55(R) FPS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 3.7 BFlops - 18.3 MB：</font></font><a href="https://drive.google.com/file/d/1FlHeQjWEQVJt0ay1PVsiuuMzmtNyv36m/view" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enetb0-coco_final.weights</font></font></a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3-openimages.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov3-openimages.cfg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 247 MB&ZeroWidthSpace;&ZeroWidthSpace; - 18(R) FPS - OpenImages 数据集：</font></font><a href="https://pjreddie.com/media/files/yolov3-openimages.weights" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov3-openimages.weights</font></font></a></p>
</li>
</ul>
<details><summary><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击我</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Yolo v3 型号</font></font></summary>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/csresnext50-panet-spp-original-optimal.cfg" rel="nofollow">csresnext50-panet-spp-original-optimal.cfg</a> - <strong>65.4% mAP@0.5 (43.2% AP@0.5:0.95) - 32(R) FPS</strong> - 100.5 BFlops - 217 MB: <a href="https://drive.google.com/open?id=1_NnfVgj0EDtb_WLNoXV8Mo7WKgwdYZCc" rel="nofollow">csresnext50-panet-spp-original-optimal_final.weights</a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3-spp.cfg" rel="nofollow">yolov3-spp.cfg</a> - <strong>60.6% mAP@0.5 - 38(R) FPS</strong> - 141.5 BFlops - 240 MB: <a href="https://pjreddie.com/media/files/yolov3-spp.weights" rel="nofollow">yolov3-spp.weights</a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/csresnext50-panet-spp.cfg" rel="nofollow">csresnext50-panet-spp.cfg</a> - <strong>60.0% mAP@0.5 - 44 FPS</strong> - 71.3 BFlops - 217 MB: <a href="https://drive.google.com/file/d/1aNXdM8qVy11nqTcd2oaVB3mf7ckr258-/view?usp=sharing" rel="nofollow">csresnext50-panet-spp_final.weights</a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3.cfg" rel="nofollow">yolov3.cfg</a> - <strong>55.3% mAP@0.5 - 66(R) FPS</strong> - 65.9 BFlops - 236 MB: <a href="https://pjreddie.com/media/files/yolov3.weights" rel="nofollow">yolov3.weights</a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3-tiny.cfg" rel="nofollow">yolov3-tiny.cfg</a> - <strong>33.1% mAP@0.5 - 345(R) FPS</strong> - 5.6 BFlops - 33.7 MB: <a href="https://pjreddie.com/media/files/yolov3-tiny.weights" rel="nofollow">yolov3-tiny.weights</a></p>
</li>
<li>
<p dir="auto"><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3-tiny-prn.cfg" rel="nofollow">yolov3-tiny-prn.cfg</a> - <strong>33.1% mAP@0.5 - 370(R) FPS</strong> - 3.5 BFlops - 18.8 MB: <a href="https://drive.google.com/file/d/18yYZWyKbo4XSDVyztmsEcF9B_6bxrhUY/view?usp=sharing" rel="nofollow">yolov3-tiny-prn.weights</a></p>
</li>
</ul>
</details>
<details><summary><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">点击我</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Yolo v2 型号</font></font></summary>
<ul dir="auto">
<li><code>yolov2.cfg</code> (194 MB COCO Yolo v2) - requires 4 GB GPU-RAM: <a href="https://pjreddie.com/media/files/yolov2.weights" rel="nofollow">https://pjreddie.com/media/files/yolov2.weights</a></li>
<li><code>yolo-voc.cfg</code> (194 MB VOC Yolo v2) - requires 4 GB GPU-RAM: <a href="http://pjreddie.com/media/files/yolo-voc.weights" rel="nofollow">http://pjreddie.com/media/files/yolo-voc.weights</a></li>
<li><code>yolov2-tiny.cfg</code> (43 MB COCO Yolo v2) - requires 1 GB GPU-RAM: <a href="https://pjreddie.com/media/files/yolov2-tiny.weights" rel="nofollow">https://pjreddie.com/media/files/yolov2-tiny.weights</a></li>
<li><code>yolov2-tiny-voc.cfg</code> (60 MB VOC Yolo v2) - requires 1 GB GPU-RAM: <a href="http://pjreddie.com/media/files/yolov2-tiny-voc.weights" rel="nofollow">http://pjreddie.com/media/files/yolov2-tiny-voc.weights</a></li>
<li><code>yolo9000.cfg</code> (186 MB Yolo9000-model) - requires 4 GB GPU-RAM: <a href="http://pjreddie.com/media/files/yolo9000.weights" rel="nofollow">http://pjreddie.com/media/files/yolo9000.weights</a></li>
</ul>
</details>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其放在编译附近：darknet.exe</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过路径获取 cfg 文件：</font></font><code>darknet/cfg/</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-requirements-for-windows-linux-and-macos" class="anchor" aria-hidden="true" tabindex="-1" href="#requirements-for-windows-linux-and-macos"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows、Linux 和 macOS 的要求</font></font></h3>
<ul dir="auto">
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake &gt;= 3.18</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://cmake.org/download/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://cmake.org/download/</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powershell</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（已安装在 Windows 上）：</font></font><a href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA &gt;= 10.2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">： https: </font></font><a href="https://developer.nvidia.com/cuda-toolkit-archive" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//developer.nvidia.com/cuda-toolkit-archive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在 Linux 上执行</font></font><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#post-installation-actions" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装后操作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV &gt;= 2.4 ：使用您首选的包管理器（brew、apt），使用</font></font></strong><font style="vertical-align: inherit;"></font><a href="https://github.com/Microsoft/vcpkg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vcpkg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从源代码构建或从</font></font><a href="https://opencv.org/releases.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV 官方网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">（在 Windows 上设置系统变量</font></font><code>OpenCV_DIR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= -</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">文件夹</font><a href="https://user-images.githubusercontent.com/4096485/53249516-5130f480-36c9-11e9-8238-a6e82e48c6f2.png" rel="nofollow"><font style="vertical-align: inherit;">图像</font></a></font><code>C:\opencv\build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里</font><font style="vertical-align: inherit;">）</font></font><code>include</code><font style="vertical-align: inherit;"></font><code>x64</code><font style="vertical-align: inherit;"></font><a href="https://user-images.githubusercontent.com/4096485/53249516-5130f480-36c9-11e9-8238-a6e82e48c6f2.png" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuDNN &gt;= 8.0.2 </font></font></strong> <a href="https://developer.nvidia.com/rdp/cudnn-archive" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.nvidia.com/rdp/cudnn-archive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上按照此处描述的步骤进行操作</font></font><a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#installlinux-tar" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html# installlinux-tar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上按照此处描述的步骤进行操作</font></font><a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#installwindows" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#installwindows</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU 与 CC &gt;= 3.0</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://en.wikipedia.org/wiki/CUDA#GPUs_supported" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikipedia.org/wiki/CUDA#GPUs_supported</font></font></a></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-yolo-v4-in-other-frameworks" class="anchor" aria-hidden="true" tabindex="-1" href="#yolo-v4-in-other-frameworks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他框架中的 Yolo v4</font></font></h3>
<ul dir="auto">
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pytorch - Scaled-YOLOv4：</font></font></strong> <a href="https://github.com/WongKinYiu/ScaledYOLOv4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://github.com/WongKinYiu/ScaledYOLOv4</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow：</font></font></strong> <code>pip install yolov4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> TensorFlow 2.0 / TFlite / Android 上的 YOLOv4：</font></font><a href="https://github.com/hunglc007/tensorflow-yolov4-tflite"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/hunglc007/tensorflow-yolov4-tflite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
官方 TF 模型：</font></font><a href="https://github.com/tensorflow/models/tree/master/official/vision/beta/projects/yolo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://github.com/tensorflow/models/tree/master/official/vision/ </font><font style="vertical-align: inherit;">beta/projects/yolo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于 YOLOv4 -</font><font style="vertical-align: inherit;">使用</font><a href="https://github.com/TNTWEN/OpenVINO-YOLOV4"><font style="vertical-align: inherit;">TNTWEN</font></a></font><code>yolov4.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目将/</font></font><code>cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件转换</font><font style="vertical-align: inherit;">为</font><a href="https://www.tensorflow.org/lite/guide/get_started#2_convert_the_model_format" rel="nofollow"><font style="vertical-align: inherit;">TensorFlow-lite</font></a></font><code>yolov4.pb</code><font style="vertical-align: inherit;"></font><a href="https://github.com/TNTWEN/OpenVINO-YOLOV4"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>yolov4.tflite</code> <a href="https://www.tensorflow.org/lite/guide/get_started#2_convert_the_model_format" rel="nofollow"><font style="vertical-align: inherit;"></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 CPU (x86/ARM-Android) 上 YOLOv4 最快的实现，OpenCV 可以使用</font></font><a href="https://github.com/opencv/opencv/wiki/Intel's-Deep-Learning-Inference-Engine-backend"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenVINO 后端</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行编译，以便在 (Myriad X / USB 神经计算棒 / Arria FPGA) 上运行，使用</font></font><code>yolov4.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与：</font></font><a href="https://github.com/opencv/opencv/blob/8c25a8eb7b10fb50cda323ee6bec68aa1a9ce43c/samples/dnn/object_detection.cpp#L192-L221"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C++ 示例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://github.com/opencv/opencv/blob/8c25a8eb7b10fb50cda323ee6bec68aa1a9ce43c/samples/dnn/object_detection.py#L129-L150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 示例</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel OpenVINO 2021.2：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持 YOLOv4（NPU Myriad X / USB 神经计算棒 / Arria FPGA）：</font></font><a href="https://devmesh.intel.com/projects/openvino-yolov4-49c756" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://devmesh.intel.com/projects/openvino-yolov4-49c756</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读本</font></font><a href="https://github.com/TNTWEN/OpenVINO-YOLOV4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（旧</font></font><a href="https://software.intel.com/en-us/articles/OpenVINO-Using-TensorFlow#converting-a-darknet-yolo-model" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）（适用于</font></font><a href="https://github.com/WongKinYiu/ScaledYOLOv4/tree/yolov4-large"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaled-YOLOv4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型号）</font><font style="vertical-align: inherit;">使用</font></font><a href="https://github.com/Chen-MingChang/pytorch_YOLO_OpenVINO_demo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/Chen-MingChang/pytorch_YOLO_OpenVINO_demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyTorch &gt; ONNX</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font><ul dir="auto">
<li><a href="https://github.com/WongKinYiu/PyTorch_YOLOv4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄健耀/PyTorch_YOLOv4</font></font></a></li>
<li><a href="https://github.com/maudzung/Complex-YOLOv4-Pytorch"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maudzung/3D-YOLOv4</font></font></a></li>
<li><a href="https://github.com/Tianxiaomo/pytorch-YOLOv4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">天小魔/pytorch-YOLOv4</font></font></a></li>
<li><a href="https://github.com/ultralytics/yolov5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv5</font></font></a></li>
</ul>
</li>
<li><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetson 上的</font><strong><font style="vertical-align: inherit;">ONNX for YOLOv4： </font></strong></font><a href="https://developer.nvidia.com/blog/announcing-onnx-runtime-for-jetson/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.nvidia.com/blog/announcing-onnx-runtime-for-jetson/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://github.com/ttanzhiqiang/onnx_tensorrt_project"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/ttanzhiqiang/onnx_tensorrt_project</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nVidia 迁移学习工具包 (TLT&gt;=3.0)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练和检测</font></font><a href="https://docs.nvidia.com/metropolis/TLT/tlt-user-guide/text/object_detection/yolo_v4.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.nvidia.com/metropolis/TLT/tlt-user-guide/text/object_detection/yolo_v4.html</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorRT+tkDNN</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://github.com/ceccocats/tkDNN#fps-results"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/ceccocats/tkDNN#fps-results</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deepstream 5.0 / TensorRT for YOLOv4 </font></font></strong> <a href="https://github.com/NVIDIA-AI-IOT/yolov4_deepstream"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/NVIDIA-AI-IOT/yolov4_deepstream</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://github.com/marcoslucianops/DeepStream-Yolo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/marcoslucianops/DeepStream-Yolo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读DeepStream 4.0</font><font style="vertical-align: inherit;">和</font><a href="https://docs.nvidia.com/metropolis/deepstream/Custom_YOLO_Model_in_the_DeepStream_YOLO_App.pdf" rel="nofollow"><font style="vertical-align: inherit;">PDF</font></a></font><a href="https://news.developer.nvidia.com/deepstream-sdk-4-now-available/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原生支持 Yolo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">另外</font><a href="https://github.com/jkjung-avt/tensorrt_demos"><font style="vertical-align: inherit;">jkjung-avt/tensorrt_demos</font></a><font style="vertical-align: inherit;">或</font><a href="https://github.com/wang-xinyu/tensorrtx"><font style="vertical-align: inherit;">wang-xinyu/tensorrtx</font></a></font><a href="https://docs.nvidia.com/metropolis/deepstream/Custom_YOLO_Model_in_the_DeepStream_YOLO_App.pdf" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://github.com/jkjung-avt/tensorrt_demos"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://github.com/wang-xinyu/tensorrtx"><font style="vertical-align: inherit;"></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Triton 推理服务器 / TensorRT </font></font></strong> <a href="https://github.com/isarsoft/yolov4-triton-tensorrt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/isarsoft/yolov4-triton-tensorrt</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectML </font></font></strong> <a href="https://github.com/microsoft/DirectML/tree/master/Samples/yolov4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/microsoft/DirectML/tree/master/Samples/yolov4</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（适用于 macOS 和 GNU/Linux 的 Intel、AMD、Mali GPU）</font></font><a href="https://github.com/sowson/darknet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/sowson/darknet</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于 AMD GPU 上训练和检测的</font><strong><font style="vertical-align: inherit;">HIP </font></strong></font><a href="https://github.com/os-hackathon/darknet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/os-hackathon/darknet</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（机器人操作系统）</font></font><a href="https://github.com/engcang/ros-yolo-sort"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/engcang/ros-yolo-sort</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xilinx Zynq Ultrascale+ 深度学习处理器 (DPU) ZCU102/ZCU104：</font></font></strong> <a href="https://github.com/Xilinx/Vitis-In-Depth-Tutorial/tree/master/Machine_Learning/Design_Tutorials/07-yolov4-tutorial"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/Xilinx/Vitis-In-Depth-Tutorial/tree/master/Machine_Learning/Design_Tutorials/07-yolov4-tutorial</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Neurochip / Amazon EC2 Inf1 实例使用 Keras </font></font></strong><font style="vertical-align: inherit;"><a href="https://aws.amazon.com/ru/blogs/machine-learning/improving-performance-for-deep-learning-based-object-detection-with-an-aws-neuron-compiled-yolov4-model-on-aws-inferentia/" rel="nofollow"><font style="vertical-align: inherit;">URL</font></a><font style="vertical-align: inherit;">将基于 TensorFlow 的 YOLOv4 模型的吞吐量提高了 1.85 倍，并将每张图像的成本降低了 37%</font></font><a href="https://aws.amazon.com/ru/blogs/machine-learning/improving-performance-for-deep-learning-based-object-detection-with-an-aws-neuron-compiled-yolov4-model-on-aws-inferentia/" rel="nofollow"><font style="vertical-align: inherit;"></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVM</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 将深度学习模型（Keras、MXNet、PyTorch、Tensorflow、CoreML、DarkNet）编译成各种硬件后端（CPU、GPU、FPGA 和专用加速器）上的最小可部署模块：https: </font></font><a href="https://tvm.ai/about" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//tvm.ai/about</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">腾讯/ncnn：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> YOLOv4在手机CPU上最快的推理： https: </font></font><a href="https://github.com/Tencent/ncnn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/Tencent/ncnn</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenDataCam</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 它使用 YOLOv4 检测、跟踪和计数移动物体：</font></font><a href="https://github.com/opendatacam/opendatacam#-hardware-pre-requisite"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/opendatacam/opendatacam#-hardware-pre-requirement</font></font></a></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netron</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 神经网络可视化工具：</font></font><a href="https://github.com/lutzroeder/netron"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/lutzroeder/netron</font></font></a></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-datasets" class="anchor" aria-hidden="true" tabindex="-1" href="#datasets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据集</font></font></h4>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS COCO：用于</font></font><code>./scripts/get_coco_dataset.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取标记的 MS COCO 检测数据集</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenImages：用于</font></font><code>python ./scripts/get_openimages_dataset.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记列车检测数据集</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pascal VOC：用于</font></font><code>python ./scripts/voc_label.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记训练/测试/验证检测数据集</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ILSVRC2012（ImageNet分类）：使用</font></font><code>./scripts/get_imagenet_train.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（也</font></font><code>imagenet_label.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于标记有效集）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于检测的德语/比利时/俄语/LISA/MASTIF 交通标志数据集 - 使用此解析器： https: </font></font><a href="https://github.com/angeligareta/Datasets2Darknet#detection-task"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/angeligareta/Datasets2Darknet#detection-task</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他数据集列表：</font></font><a href="https://github.com/AlexeyAB/darknet/tree/master/scripts#datasets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/tree/master/scripts#datasets</font></font></a></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-improvements-in-this-repository" class="anchor" aria-hidden="true" tabindex="-1" href="#improvements-in-this-repository"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此存储库的改进</font></font></h3>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发了最先进的物体检测器 YOLOv4</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了最先进的模型：CSP、PRN、EfficientNet</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加的层：[conv_lstm]、[scale_channels] SE/ASFF/BiFPN、[local_avgpool]、[sam]、[Gaussian_yolo]、[reorg3d]（固定[reorg]）、固定[batchnorm]</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>[conv_lstm]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了训练循环模型（使用层 conv-lstm /conv-rnn ）</font><font style="vertical-align: inherit;">的能力，</font></font><code>[crnn]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以准确检测视频</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了数据增强：</font></font><code>[net] mixup=1 cutmix=1 mosaic=1 blur=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">添加了激活：SWISH、MISH、NORM_CHAN、NORM_CHAN_SOFTMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了使用 CPU-RAM 进行 GPU 处理训练的能力，以增加 mini_batch_size 并提高准确性（而不是批量规范同步）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用此 XNOR-net 模型（位 1 推理）训练自己的权重，则 CPU 和 GPU 上的检测的</font><font style="vertical-align: inherit;">二进制神经网络性能提高了</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 倍至 4 倍：https: </font></font></strong><font style="vertical-align: inherit;"></font><a href="https://github.com/AlexeyAB/darknet/blob/master/cfg/yolov3-tiny_xnor.cfg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/darknet/blob/master /cfg/yolov3-tiny_xnor.cfg</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过将 2 层融合为 1 层，</font><font style="vertical-align: inherit;">将神经网络性能提高</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约 7% ：卷积 + Batch-norm</font></font></strong><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的性能：</font><font style="vertical-align: inherit;">使用 Tensor Cores 在 GPU Volta/Turing（Tesla V100、GeForce RTX 等）上进行</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 倍</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检测（如果在或</font></font><code>CUDNN_HALF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中定义）</font></font><code>Makefile</code><font style="vertical-align: inherit;"></font><code>darknet.sln</code></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在全高清上提高了约 1.2 倍</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的性能</font><font style="vertical-align: inherit;">，在 4K 上提高了</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约 2 倍</font></font></strong><font style="vertical-align: inherit;"></font><code>darknet detector demo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的性能，用于使用...</font><font style="vertical-align: inherit;">检测视频（文件/流）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的性能训练数据增强</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.5 倍</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（使用 OpenCV SSE/AVX 函数而不是手写函数） - 消除多 GPU 或 GPU Volta 上训练的瓶颈</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 AVX 提高了 Intel CPU 上的检测和训练性能（Yolo v3 </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~85%</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优化网络调整大小期间的内存分配</font></font><code>random=1</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优化 GPU 初始化以进行检测 - 我们最初使用批次 = 1，而不是使用批次 = 1 重新初始化</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了使用命令</font><font style="vertical-align: inherit;">正确计算</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mAP、F1、IoU、Precision-Recall</font></font></strong><font style="vertical-align: inherit;"></font><code>darknet detector map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>-map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了训练期间的</font><font style="vertical-align: inherit;">平均损失和准确度-mAP（标志）图表的绘制</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为 JSON 和 MJPEG 服务器运行，</font></font><code>./darknet detector demo ... -json_port 8070 -mjpeg_port 8090</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用您的软件或 Web 浏览器通过网络在线获取结果</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了训练锚点的计算</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了检测和跟踪对象的示例：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用不正确的 cfg 文件或数据集，则会出现运行时提示和警告</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了对 Windows 的支持</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多其他代码修复...</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并添加了手册 -</font></font><a href="#how-to-train-to-detect-your-custom-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何训练 Yolo v4-v2（以检测您的自定义对象）</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，您可能有兴趣使用一个简化的存储库，其中实现了 INT8 量化（+30% 加速和 -1% mAP 减少）：</font></font><a href="https://github.com/AlexeyAB/yolo2_light"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/yolo2_light</font></font></a></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-how-to-use-on-the-command-line" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-use-on-the-command-line"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在命令行中使用</font></font></h4>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用</font></font><code>build.ps1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脚本或 makefile（仅限 Linux），您将</font></font><code>darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在根目录中找到。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用已弃用的 Visual Studio 解决方案，您将在目录中</font><font style="vertical-align: inherit;">找到</font></font><code>\build\darknet\x64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用 CMake GUI 自定义构建，darknet 可执行文件将安装在您的首选文件夹中。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 COCO -</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图片</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>./darknet detector test cfg/coco.data cfg/yolov4.cfg yolov4.weights -thresh 0.25</code></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物体坐标：</font></font><code>./darknet detector test cfg/coco.data yolov4.cfg yolov4.weights -ext_output dog.jpg</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 COCO -</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights -ext_output test.mp4</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 COCO -</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络摄像头 0</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights -c 0</code></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于网络视频摄像头</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 Yolo v4 COCO </font><font style="vertical-align: inherit;">- 智能网络摄像头：</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights http://192.168.0.80:8080/video?dummy=param.mjpg</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 -</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存结果视频文件 res.avi</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov4.cfg yolov4.weights test.mp4 -out_filename res.avi</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v3 </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiny</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> COCO - 视频：</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov3-tiny.cfg yolov3-tiny.weights test.mp4</code></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON 和 MJPEG 服务器</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许来自您的软件或 Web 浏览器</font></font><code>ip-address:8070</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 8090 的多个连接：</font></font><code>./darknet detector demo ./cfg/coco.data ./cfg/yolov3.cfg ./yolov3.weights test50.mp4 -json_port 8070 -mjpeg_port 8090 -ext_output</code></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU #1 上的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v3 Tiny </font><font style="vertical-align: inherit;">：</font></font><code>./darknet detector demo cfg/coco.data cfg/yolov3-tiny.cfg yolov3-tiny.weights -i 1 test.mp4</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替代方法 Yolo v3 COCO - 图片：</font></font><code>./darknet detect cfg/yolov4.cfg yolov4.weights -i 0 -thresh 0.25</code></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Amazon EC2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上进行训练</font><font style="vertical-align: inherit;">，使用如下 URL 查看 mAP 和损失图：</font></font><code>http://ec2-35-160-228-91.us-west-2.compute.amazonaws.com:8090</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Chrome/Firefox 中（</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Darknet 应使用 OpenCV 进行编译</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font><code>./darknet detector train cfg/coco.data yolov4.cfg yolov4.conv.137 -dont_show -mjpeg_port 8090 -map</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">186 MB Yolo9000 - 图片：</font></font><code>./darknet detector test cfg/combine9k.data cfg/yolo9000.cfg yolo9000.weights</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用 cpp api 构建应用程序，请记住将 data/9k.tree 和 data/coco9k.map 放在应用程序的同一文件夹下</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要处理图像列表</font></font><code>data/train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将检测结果保存到</font></font><code>result.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中，请使用：
</font></font><code>./darknet detector test cfg/coco.data cfg/yolov4.cfg yolov4.weights -ext_output -dont_show -out result.json &lt; data/train.txt</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要处理图像列表</font></font><code>data/train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并保存检测结果以供</font></font><code>result.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用：
</font></font><code>./darknet detector test cfg/coco.data cfg/yolov4.cfg yolov4.weights -dont_show -ext_output &lt; data/train.txt &gt; result.txt</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要处理视频并将结果输出到 json 文件，请使用：</font></font><code>darknet.exe detector demo cfg/coco.data cfg/yolov3.cfg yolov3.weights file.mp4 -dont_show -json_file_output results.json</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伪标签 - 处理图像列表</font></font><code>data/new_train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将每个图像的检测结果以 Yolo 训练格式保存为标签</font></font><code>&lt;image_name&gt;.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这样可以增加训练数据量）使用：
</font></font><code>./darknet detector test cfg/coco.data cfg/yolov4.cfg yolov4.weights -thresh 0.25 -dont_show -save_labels &lt; data/new_train.txt</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算锚点：</font></font><code>./darknet detector calc_anchors data/obj.data -num_of_clusters 9 -width 416 -height 416</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查精度 mAP@IoU=50：</font></font><code>./darknet detector map data/obj.data yolo-obj.cfg backup\yolo-obj_7000.weights</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查精度 mAP@IoU=75：</font></font><code>./darknet detector map data/obj.data yolo-obj.cfg backup\yolo-obj_7000.weights -iou_thresh 0.75</code></li>
</ul>
<h5 tabindex="-1" dir="auto"><a id="user-content-for-using-network-video-camera-mjpeg-stream-with-any-android-smartphone" class="anchor" aria-hidden="true" tabindex="-1" href="#for-using-network-video-camera-mjpeg-stream-with-any-android-smartphone"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在任何 Android 智能手机上使用网络摄像机 mjpeg-stream</font></font></h5>
<ol dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载适用于 Android 手机的 mjpeg-stream 软件：IP Webcam / Smart WebCam</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能网络摄像头 - 最好：</font></font><a href="https://play.google.com/store/apps/details?id=com.acontech.android.SmartWebCam2" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://play.google.com/store/apps/details? id=com.acontech.android.SmartWebCam2</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP 网络摄像头：</font></font><a href="https://play.google.com/store/apps/details?id=com.pas.webcam" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://play.google.com/store/apps/details? id=com.pas.webcam</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过 WiFi（通过 WiFi 路由器）或 USB 将 Android 手机连接到计算机</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在手机上启动智能网络摄像头</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换手机应用程序（智能网络摄像头）中显示的以下地址并启动：</font></font></p>
</li>
</ol>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yolo v4 COCO 模型：</font></font><code>./darknet detector demo data/coco.data yolov4.cfg yolov4.weights http://192.168.0.80:8080/video?dummy=param.mjpg -i 0</code></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-to-compile-on-linuxmacos-using-cmake" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-compile-on-linuxmacos-using-cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在 Linux/macOS 上编译（使用</font></font><code>CMake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font><code>CMakeLists.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试查找已安装的可选依赖项，例如 CUDA、cudnn、ZED 并针对这些依赖项进行构建。</font><font style="vertical-align: inherit;">它还将创建一个共享对象库文件以用于</font></font><code>darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码开发。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在 Ubuntu 上更新 CMake，最好遵循此处的指南： https: </font></font><a href="https://apt.kitware.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//apt.kitware.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://cmake.org/download/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://cmake.org/download/</font></font></a></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>git clone https://github.com/AlexeyAB/darknet
<span class="pl-c1">cd</span> darknet
mkdir build_release
<span class="pl-c1">cd</span> build_release
cmake ..
cmake --build <span class="pl-c1">.</span> --target install --parallel 8</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="git clone https://github.com/AlexeyAB/darknet
cd darknet
mkdir build_release
cd build_release
cmake ..
cmake --build . --target install --parallel 8" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-using-also-powershell" class="anchor" aria-hidden="true" tabindex="-1" href="#using-also-powershell"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还使用 PowerShell</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装：</font></font><code>Cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>CUDA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>cuDNN</code> <a href="#requirements"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何安装依赖项</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为您的操作系统（Linux 或 MacOS）安装 powershell（</font></font><a href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开 PowerShell 键入这些命令</font></font></p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto"><pre>git clone https:<span class="pl-k">//</span><span class="pl-c1">github.com</span><span class="pl-k">/</span>AlexeyAB<span class="pl-k">/</span>darknet
cd darknet
.<span class="pl-k">/</span>build.ps1 <span class="pl-k">-</span>UseVCPKG <span class="pl-k">-</span>EnableOPENCV <span class="pl-k">-</span>EnableCUDA <span class="pl-k">-</span>EnableCUDNN</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="git clone https://github.com/AlexeyAB/darknet
cd darknet
./build.ps1 -UseVCPKG -EnableOPENCV -EnableCUDA -EnableCUDNN" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不感兴趣，请删除诸如</font></font><code>-EnableCUDA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 之</font><font style="vertical-align: inherit;">类的选项</font></font><code>-EnableCUDNN</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"></font><code>-UseVCPKG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您打算手动向暗网提供 OpenCV 库或者您不想启用 OpenCV 集成，</font><font style="vertical-align: inherit;">请删除选项</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>-EnableOPENCV_CUDA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您想构建支持 CUDA 的 OpenCV，</font><font style="vertical-align: inherit;">请添加选项- 构建速度非常慢！</font><font style="vertical-align: inherit;">（需要</font></font><code>-UseVCPKG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您</font></font><code>build.ps1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一开始就打开脚本，您将找到所有可用的开关。</font></font></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-to-compile-on-linux-using-make" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-compile-on-linux-using-make"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Linux上编译（使用</font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需在darknet目录中</font><font style="vertical-align: inherit;">执行即可。</font><font style="vertical-align: inherit;">（您可以尝试在云</font></font><a href="https://colab.research.google.com/drive/12QusaaRj_lUwCGDvQNfICpa7kA7_a2dE" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的 Google Colab 上编译并运行它（按左上角的“在 Playground 中打开”按钮）并观看视频</font></font><a href="https://www.youtube.com/watch?v=mKAEGSxwOAY" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）在 make 之前，您可以在</font></font><code>Makefile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><a href="https://github.com/AlexeyAB/darknet/blob/9c1b9a2cf6363546c152251be578a21f3c3caec6/Makefile#L1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接中设置此类选项</font></font></a></p>
<ul dir="auto">
<li><code>GPU=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 CUDA 构建以使用 GPU 加速（CUDA 应该位于</font></font><code>/usr/local/cuda</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><code>CUDNN=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 cuDNN v5-v7 进行构建，以使用 GPU 加速训练（cuDNN 应该位于 中</font></font><code>/usr/local/cudnn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><code>CUDNN_HALF=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为 Tensor Core 构建（在 Titan V / Tesla V100 / DGX-2 及更高版本上）加速检测 3 倍，训练 2 倍</font></font></li>
<li><code>OPENCV=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 OpenCV 4.x/3.x/2.4.x 构建 - 允许检测来自网络摄像机或网络摄像头的视频文件和视频流</font></font></li>
<li><code>DEBUG=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建 Yolo 的调试版本</font></font></li>
<li><code>OPENMP=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 OpenMP 支持进行构建，通过使用多核 CPU 加速 Yolo</font></font></li>
<li><code>LIBSO=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建一个库和</font><font style="vertical-align: inherit;">使用该库的</font></font><code>darknet.so</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制可运行文件。</font></font><code>uselib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者您可以尝试运行</font></font><code>LD_LIBRARY_PATH=./:$LD_LIBRARY_PATH ./uselib test.mp4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How To use this SO-library from your own code - 您可以查看C++示例： https: </font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
或使用这样的方式：</font></font><code>LD_LIBRARY_PATH=./:$LD_LIBRARY_PATH ./uselib data/coco.names cfg/yolov4.cfg yolov4.weights test.mp4</code></li>
<li><code>ZED_CAMERA=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建一个支持 ZED-3D 相机的库（应该安装 ZED SDK），然后运行
</font></font><code>LD_LIBRARY_PATH=./:$LD_LIBRARY_PATH ./uselib data/coco.names cfg/yolov4.cfg yolov4.weights zed_camera</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还需要指定为哪个显卡生成代码。</font><font style="vertical-align: inherit;">这是通过设置来完成的</font></font><code>ARCH=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您使用比 CUDA 11 更新的版本，您还需要编辑 Makefile 中的第 20 行并将其删除，</font></font><code>-gencode arch=compute_30,code=sm_30 \</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为 CUDA 11 中已删除了 Kepler GPU 支持。您还可以删除常规内容</font></font><code>ARCH=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并取消注释</font></font><code>ARCH=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的显卡。</font></font></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-to-compile-on-windows-using-cmake" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-compile-on-windows-using-cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Windows上编译（使用</font></font><code>CMake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSVC：</font></font><a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/ ?sku=Community</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake 图形用户界面： https: </font></font><code>Windows win64-x64 Installer</code><a href="https://cmake.org/download/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//cmake.org/download/</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载包含最新提交的 Darknet zip 存档并解压缩：</font></font><a href="https://github.com/AlexeyAB/darknet/archive/master.zip"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master.zip</font></font></a></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Windows 中：</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始（按钮）-&gt; 所有程序-&gt; CMake -&gt; CMake (gui) -&gt;</font></font></p>
</li>
<li>
<p dir="auto"><a href="https://habrastorage.org/webt/pz/s1/uu/pzs1uu4heb7vflfcjqn-lxy-aqu.jpeg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在CMake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中：输入 darknet 源的输入路径，以及二进制文件的输出路径 -&gt; 配置（按钮） -&gt; 生成器的可选平台：</font></font><code>x64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  -&gt; 完成 -&gt; 生成 -&gt; 打开项目 -&gt;</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 MS Visual Studio 中：选择：x64 和发布 -&gt; 构建 -&gt; 构建解决方案</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>darknet.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您指定的二进制文件的输出路径中</font><font style="vertical-align: inherit;">查找可执行文件</font></font></p>
</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/cca63e5ee07ef0189db3312878ac5da8c3053ba7fb534c93927f9d31b5c4c727/68747470733a2f2f686162726173746f726167652e6f72672f776562742f61792f74792f662d2f61797479662d386275666537712d3136796f65636f6d6d6c7779732e6a706567"><img src="https://camo.githubusercontent.com/cca63e5ee07ef0189db3312878ac5da8c3053ba7fb534c93927f9d31b5c4c727/68747470733a2f2f686162726173746f726167652e6f72672f776562742f61792f74792f662d2f61797479662d386275666537712d3136796f65636f6d6d6c7779732e6a706567" alt="x64 和版本" data-canonical-src="https://habrastorage.org/webt/ay/ty/f-/aytyf-8bufe7q-16yoecommlwys.jpeg" style="max-width: 100%;"></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-to-compile-on-windows-using-vcpkg" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-compile-on-windows-using-vcpkg"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何在Windows上编译（使用</font></font><code>vcpkg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是在 Windows 上构建 Darknet 的推荐方法。</font></font></p>
<ol dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装 Visual Studio 2017 或 2019。如果您需要下载，请前往此处：</font></font><a href="http://visualstudio.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio Community</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">记得安装英文语言包，这是vcpkg强制的！</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装 CUDA，在安装过程中启用 VS 集成。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开 Powershell（开始 -&gt; 所有程序 -&gt; Windows Powershell）并键入以下命令：</font></font></p>
</li>
</ol>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">Set-ExecutionPolicy</span> unrestricted <span class="pl-k">-</span>Scope CurrentUser <span class="pl-k">-</span>Force
git clone https:<span class="pl-k">//</span><span class="pl-c1">github.com</span><span class="pl-k">/</span>AlexeyAB<span class="pl-k">/</span>darknet
cd darknet
.\build.ps1 <span class="pl-k">-</span>UseVCPKG <span class="pl-k">-</span>EnableOPENCV <span class="pl-k">-</span>EnableCUDA <span class="pl-k">-</span>EnableCUDNN</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="Set-ExecutionPolicy unrestricted -Scope CurrentUser -Force
git clone https://github.com/AlexeyAB/darknet
cd darknet
.\build.ps1 -UseVCPKG -EnableOPENCV -EnableCUDA -EnableCUDNN" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>-EnableOPENCV_CUDA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如果您想构建支持 CUDA 的 OpenCV，</font><font style="vertical-align: inherit;">请添加选项- 构建速度非常慢！ - 或者删除类似</font></font><code>-EnableCUDA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 的选项</font></font><code>-EnableCUDNN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果您对它们不感兴趣）。</font><font style="vertical-align: inherit;">如果您</font></font><code>build.ps1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从一开始就打开脚本，您将找到所有可用的开关。</font></font></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-to-train-with-multi-gpu" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-train-with-multi-gpu"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用多 GPU 进行训练</font></font></h2>
<ol dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先在 1 个 GPU 上训练它大约 1000 次迭代：</font></font><code>darknet.exe detector train cfg/coco.data cfg/yolov4.cfg yolov4.conv.137</code></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后停止并使用部分训练的模型</font></font><code>/backup/yolov4_1000.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过多 GPU（最多 4 个 GPU）运行训练：</font></font><code>darknet.exe detector train cfg/coco.data cfg/yolov4.cfg /backup/yolov4_1000.weights -gpus 0,1,2,3</code></p>
</li>
</ol>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果你得到 Nan，那么对于某些数据集，对于 4 个 GPU 集，最好降低学习率</font></font><code>learning_rate = 0,00065</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（即 Learning_rate = 0.00261 / GPU）。</font></font><code>burn_in =</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，您的 cfg 文件</font><font style="vertical-align: inherit;">也会增加 4 倍。</font><font style="vertical-align: inherit;">即使用</font></font><code>burn_in = 4000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><code>1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p dir="auto"><a href="https://groups.google.com/d/msg/darknet/NbJqonJBTSY/Te5PfIpuCAAJ" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://groups.google.com/d/msg/darknet/NbJqonJBTSY/Te5PfIpuCAAJ</font></font></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-to-train-to-detect-your-custom-objects" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-train-to-detect-your-custom-objects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何训练（检测您的自定义对象）</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（要训练旧版 Yolo </font><font style="vertical-align: inherit;">v2 </font><font style="vertical-align: inherit;">、、、、</font></font><code>yolov2-voc.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font><font style="vertical-align: inherit;">单击</font><a href="https://github.com/AlexeyAB/darknet/tree/47c7af1cea5bbdedf1184963355e6418cb8b1b4f#how-to-train-pascal-voc-data"><font style="vertical-align: inherit;">链接</font></a><font style="vertical-align: inherit;">）</font></font><code>yolov2-tiny-voc.cfg</code><font style="vertical-align: inherit;"></font><code>yolo-voc.cfg</code><font style="vertical-align: inherit;"></font><code>yolo-voc.2.0.cfg</code><font style="vertical-align: inherit;"></font><a href="https://github.com/AlexeyAB/darknet/tree/47c7af1cea5bbdedf1184963355e6418cb8b1b4f#how-to-train-pascal-voc-data"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练 Yolo v4（和 v3）：</font></font></p>
<ol start="0" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于训练，</font></font><code>cfg/yolov4-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请下载预训练的权重文件 (162 MB)：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.conv.137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.conv.137</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Google 驱动器镜像</font></font><a href="https://drive.google.com/open?id=1JKF-bdIklxOOVy-2Cr5qdvjgGpmGfcbp" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.conv.137</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建</font></font><code>yolo-obj.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容与中相同的文件</font></font><code>yolov4-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或复制</font></font><code>yolov4-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code>yolo-obj.cfg)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和：</font></font></li>
</ol>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将行批次更改为</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L3"><code>batch=64</code></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将线细分更改为</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L4"><code>subdivisions=16</code></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将 max_batches 行更改为 ( </font></font><code>classes*2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但不少于训练图像的数量且不少于</font></font><code>6000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), fe</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L20"><code>max_batches=6000</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您训练 3 个类别</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将行步长更改为 max_batches, fe 的 80% 和 90%</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L22"><code>steps=4800,5400</code></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置网络大小</font></font><code>width=416 height=416</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 32 的任意倍数：</font></font><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L8-L9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        第 8 至 9 行
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L8" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="8"></td>
          <td id="LC8" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宽度=416</font></font></td>
        </tr>

        <tr class="border-0">
          <td id="L9" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="9"></td>
          <td id="LC9" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=416</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将行更改</font></font><code>classes=80</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为 3 层中每一层中的对象数量</font></font><code>[yolo]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font><ul dir="auto">
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L610"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         610 号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L610" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="610"></td>
          <td id="LC610" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">班级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=80</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L696"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         696行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L696" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="696"></td>
          <td id="LC696" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">班级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=80</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L783"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         783号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L783" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="783"></td>
          <td id="LC783" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">班级</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=80</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将每层之前的3 层中的</font><font style="vertical-align: inherit;">[ </font></font><code>filters=255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] 更改为filters=(classes + 5)x3 </font><font style="vertical-align: inherit;">，请记住，它只需是</font><font style="vertical-align: inherit;">每个</font><font style="vertical-align: inherit;">层之前的最后一个即可。
</font></font><code>[convolutional]</code><font style="vertical-align: inherit;"></font><code>[yolo]</code><font style="vertical-align: inherit;"></font><code>[convolutional]</code><font style="vertical-align: inherit;"></font><code>[yolo]</code><font style="vertical-align: inherit;"></font><ul dir="auto">
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L603"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         603行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L603" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="603"></td>
          <td id="LC603" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=255</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L689"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         689行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L689" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="689"></td>
          <td id="LC689" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=255</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L776"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         776 号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/0039fd26786ab5f71d5af725fc18b3f521e7acfd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0039fd2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L776" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="776"></td>
          <td id="LC776" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=255</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><a href="https://github.com/AlexeyAB/darknet/blob/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc/cfg/Gaussian_yolov3_BDD.cfg#L608"><code>[Gaussian_yolo]</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  层时，在每层之前的3个中更改[ </font><font style="vertical-align: inherit;">]
 </font><font style="vertical-align: inherit;">filters </font></font><code>filters=57</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=(classes + 9)x3</font></font><code>[convolutional]</code><font style="vertical-align: inherit;"></font><code>[Gaussian_yolo]</code><font style="vertical-align: inherit;"></font><ul dir="auto">
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc/cfg/Gaussian_yolov3_BDD.cfg#L604"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/Gaussian_yolov3_BDD.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         604行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6e5bdf1</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L604" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="604"></td>
          <td id="LC604" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=57</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc/cfg/Gaussian_yolov3_BDD.cfg#L696"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/Gaussian_yolov3_BDD.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         696行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6e5bdf1</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L696" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="696"></td>
          <td id="LC696" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=57</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc/cfg/Gaussian_yolov3_BDD.cfg#L789"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/Gaussian_yolov3_BDD.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         789号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6e5bdf1282ad6b06ed0e962c3f5be67cf63d96dc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6e5bdf1</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L789" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="789"></td>
          <td id="LC789" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤器</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=57</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
</ul>
</li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么如果</font></font><code>classes=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么应该是</font></font><code>filters=18</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果</font></font><code>classes=2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么写</font></font><code>filters=21</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.
</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不要在 cfg 文件中写入：filters=(classes + 5)x3）</font></font></strong></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（一般</font></font><code>filters</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取决于</font></font><code>classes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>coords</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>mask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s 的数量，即filters= </font></font><code>(classes + coords + 1)*&lt;number of mask&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中</font></font><code>mask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是anchor的索引。如果</font></font><code>mask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不存在，则filters= </font></font><code>(classes + coords + 1)*num</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，对于 2 个对象，您的文件</font></font><code>yolo-obj.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应该与</font><strong><font style="vertical-align: inherit;">3 个</font></strong></font><code>yolov4-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[yolo] 层中的每一层中的这些行不同</font><font style="vertical-align: inherit;">：</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p>
<div class="highlight highlight-source-ini notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-en">[convolutional]</span>
<span class="pl-k">filters</span>=21

<span class="pl-en">[region]</span>
<span class="pl-k">classes</span>=2</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="[convolutional]
filters=21

[region]
classes=2" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li><font style="vertical-align: inherit;"></font><code>obj.names</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目录中</font><font style="vertical-align: inherit;">创建文件</font></font><code>build\darknet\x64\data\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包含对象名称 - 每个文件都在新行中</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>obj.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目录中</font><font style="vertical-align: inherit;">创建文件</font></font><code>build\darknet\x64\data\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，包含（其中</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类=对象数</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></li>
</ol>
<div class="highlight highlight-source-ini notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">classes</span> = 2
<span class="pl-k">train</span>  = data/train.txt
<span class="pl-k">valid</span>  = data/test.txt
<span class="pl-k">names</span> = data/obj.names
<span class="pl-k">backup</span> = backup/</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="classes = 2
train  = data/train.txt
valid  = data/test.txt
names = data/obj.names
backup = backup/" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="4" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将对象的图像文件 (.jpg) 放入目录中</font></font><code>build\darknet\x64\data\obj\</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该在数据集中的图像上标记每个对象。</font><font style="vertical-align: inherit;">使用此可视化 GUI 软件标记对象的有界框并为 Yolo v2 和 v3 生成注释文件： https: </font></font><a href="https://github.com/AlexeyAB/Yolo_mark"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/Yolo_mark</font></font></a></li>
</ol>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个</font></font><code>.jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-image-file 创建 -file - 在同一目录中，具有相同的名称，但带有</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-extension，并放入文件：该图像上的对象编号和对象坐标，对于新行中的每个对象：</font></font></p>
<p dir="auto"><code>&lt;object-class&gt; &lt;x_center&gt; &lt;y_center&gt; &lt;width&gt; &lt;height&gt;</code></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在哪里：</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><code>&lt;object-class&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 整数对象编号从</font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code>(classes-1)</code></p>
</li>
<li>
<p dir="auto"><code>&lt;x_center&gt; &lt;y_center&gt; &lt;width&gt; &lt;height&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相对于</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像宽度和高度的浮点值，它可以等于</font></font><code>(0.0 to 1.0]</code></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如：</font></font><code>&lt;x&gt; = &lt;absolute_x&gt; / &lt;image_width&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>&lt;height&gt; = &lt;absolute_height&gt; / &lt;image_height&gt;</code></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font><code>&lt;x_center&gt; &lt;y_center&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 是矩形的中心（不是左上角）</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，将为</font></font><code>img1.jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您创建</font></font><code>img1.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre lang="csv" class="notranslate"><code>1 0.716797 0.395833 0.216406 0.147222
0 0.687109 0.379167 0.255469 0.158333
1 0.420312 0.395833 0.140625 0.166667
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="1 0.716797 0.395833 0.216406 0.147222
0 0.687109 0.379167 0.255469 0.158333
1 0.420312 0.395833 0.140625 0.166667" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</li>
</ul>
<ol start="6" dir="auto">
<li><font style="vertical-align: inherit;"></font><code>train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在目录 中</font><font style="vertical-align: inherit;">创建文件</font></font><code>build\darknet\x64\data\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包含图像的文件名，每个文件名位于新行中，路径相对于</font></font><code>darknet.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如包含：</font></font></li>
</ol>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre lang="csv" class="notranslate"><code>data/obj/img1.jpg
data/obj/img2.jpg
data/obj/img3.jpg
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="data/obj/img1.jpg
data/obj/img2.jpg
data/obj/img3.jpg" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="7" dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载卷积层的预训练权重并放入目录</font></font><code>build\darknet\x64</code></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><code>yolov4.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>yolov4-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（162 MB）：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.conv.137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.conv.137</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Google 驱动器镜像</font></font><a href="https://drive.google.com/open?id=1JKF-bdIklxOOVy-2Cr5qdvjgGpmGfcbp" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4.conv.137</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><code>yolov4-tiny.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>yolov4-tiny-3l.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>yolov4-tiny-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(19 MB): </font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-tiny.conv.29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yolov4-tiny.conv.29</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><code>csresnext50-panet-spp.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（133 MB）：</font></font><a href="https://drive.google.com/file/d/16yMYCLQTY_oDlCIZPfn_sab6KD3zgzGq/view?usp=sharing" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">csresnext50-panet-spp.conv.112</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><code>yolov3.cfg, yolov3-spp.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（154 MB）：</font></font><a href="https://pjreddie.com/media/files/darknet53.conv.74" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">darknet53.conv.74</font></font></a></li>
<li><font style="vertical-align: inherit;"></font><code>yolov3-tiny-prn.cfg , yolov3-tiny.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(6 MB)：</font><font style="vertical-align: inherit;">yolov3 </font></font><a href="https://drive.google.com/file/d/18v36esoXCh-PsOKwyP2GWrpYDptDY8Zf/view?usp=sharing" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-tiny.conv.11</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于</font></font><code>enet-coco.cfg (EfficientNetB0-Yolov3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（14 MB）：</font></font><a href="https://drive.google.com/file/d/1uhh3D6RSn0ekgmsaTcl-ZW53WBaUDo6j/view?usp=sharing" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enetb0-coco.conv.132</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令行开始训练：</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137</code></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在 Linux 上训练，请使用命令：（</font></font><code>./darknet detector train data/obj.data yolo-obj.cfg yolov4.conv.137</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需使用</font></font><code>./darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><code>darknet.exe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（文件</font></font><code>yolo-obj_last.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将保存到</font></font><code>build\darknet\x64\backup\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每 100 次迭代）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（文件</font></font><code>yolo-obj_xxxx.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将保存到</font></font><code>build\darknet\x64\backup\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每 1000 次迭代）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137 -dont_show</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在没有监视器的计算机（例如云 Amazon EC2）上训练，则禁用 Loss-Window 使用）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（要在没有 GUI 的远程服务器上训练期间查看 mAP 和损失图，请使用命令，</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137 -dont_show -mjpeg_port 8090 -map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后在 Chrome/Firefox 浏览器中打开 URL </font></font><code>http://ip-address:8090</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
</ul>
</li>
</ol>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1. </font><font style="vertical-align: inherit;">对于每 4 个 Epoch（设置</font></font><code>valid=valid.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或文件</font></font><code>train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font></font><code>obj.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的 mAP（平均平均精度）计算训练并运行：</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137 -map</code></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2. </font></font><code>-mAP_epochs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果需要更少或更频繁的 mAP 计算，</font><font style="vertical-align: inherit;">还可以在训练命令中设置。</font><font style="vertical-align: inherit;">例如，为了计算每 2 个 Epoch 运行的 mAP</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137 -map -mAP_epochs 2</code></p>
<ol start="9" dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练完成后 -</font></font><code>yolo-obj_final.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从路径中获取结果</font></font><code>build\darknet\x64\backup\</code></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每 100 次迭代后，您可以停止并稍后从此时开始训练。</font><font style="vertical-align: inherit;">例如，在 2000 次迭代后，您可以停止训练，然后使用以下命令开始训练：</font></font><code>darknet.exe detector train data/obj.data yolo-obj.cfg backup\yolo-obj_2000.weights</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在原始存储库</font></font><a href="https://github.com/pjreddie/darknet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/pjreddie/darknet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中，权重文件每 10 000 次迭代仅保存一次</font></font><code>if(iterations &gt; 1000)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以获得比所有 45000 次迭代更早的结果。</font></font></li>
</ul>
</li>
</ol>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在训练期间您看到(loss) 字段</font></font><code>nan</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的值</font></font><code>avg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 那么训练就会出错，但如果</font></font><code>nan</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在其他一些行中 - 那么训练会顺利进行。</font></font></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您在 cfg 文件中更改了 width= 或 height=，则新的宽度和高度必须能被 32 整除。</font></font></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练后使用这样的命令进行检测：</font></font><code>darknet.exe detector test data/obj.data yolo-obj.cfg yolo-obj_8000.weights</code></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"></font><code>Out of memory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果发生</font><font style="vertical-align: inherit;">错误，那么在</font></font><code>.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-file 中您应该增加</font></font><code>subdivisions=16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 32 或 64:</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-how-to-train-tiny-yolo-to-detect-your-custom-objects" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-train-tiny-yolo-to-detect-your-custom-objects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何训练tiny-yolo（以检测您的自定义对象）</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如上所述，执行与完整 yolo 模型相同的所有步骤。</font><font style="vertical-align: inherit;">但以下情况除外：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载yolov4-tiny前29个卷积层的文件：</font></font><a href="https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-tiny.conv.29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v4_pre/yolov4-tiny.conv.29</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
（或者从yolov4-tiny.weights获取此文件使用命令创建文件：</font></font><code>darknet.exe partial cfg/yolov4-tiny-custom.cfg yolov4-tiny.weights yolov4-tiny.conv.29 29</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使您的自定义模型</font></font><code>yolov4-tiny-obj.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于</font></font><code>cfg/yolov4-tiny-custom.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><code>yolov4.cfg</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始训练：</font></font><code>darknet.exe detector train data/obj.data yolov4-tiny-obj.cfg yolov4-tiny.conv.29</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要基于其他模型（</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/build/darknet/x64/densenet201_yolo.cfg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DenseNet201-Yolo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/build/darknet/x64/resnet50_yolo.cfg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResNet50-Yolo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）训练 Yolo，您可以下载并获取预训练权重，如以下文件所示： https: </font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/build/darknet/x64/partial.cmd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/darknet/blob/master/build/ darknet/x64/partial.cmd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您制作了不基于其他模型的自定义模型，那么您可以在没有预先训练权重的情况下对其进行训练，然后将使用随机初始权重。</font></font></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-when-should-i-stop-training" class="anchor" aria-hidden="true" tabindex="-1" href="#when-should-i-stop-training"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我什么时候应该停止训练</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常每个类（对象）有足够的 2000 次迭代，但不少于训练图像的数量，并且总共不少于 6000 次迭代。</font><font style="vertical-align: inherit;">但要更准确地定义何时应该停止训练，请使用以下手册：</font></font></p>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在训练过程中，您将看到不同的错误指标，当不再减少</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.XXXXXXX avg</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，您应该停止：</font></font></li>
</ol>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区域平均 IOU：0.798363，类别：0.893232，对象：0.700808，无对象：0.004567，平均召回率：1.000000，计数：8 区域平均 IOU：0.800677，类别：0.892181，对象：0.701590，无对象：0 .004574，平均召回率：1.000000 ，数量：8</font></font></p>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9002</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：0.211667、0.60730</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、0.001000 速率、3.868000 秒、576128 个图像已加载：0.000000 秒</font></font></p>
</blockquote>
<ul dir="auto">
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9002</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 迭代次数（批次数）</font></font></p>
</li>
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.60730 avg</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 平均损失（误差） -</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">越低越好</font></font></strong></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您看到平均损失</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.xxxxxx avg</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在多次迭代中不再减少时，您应该停止训练。</font><font style="vertical-align: inherit;">最终的平均损失可以从</font></font><code>0.05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（对于小模型和简单的数据集）到</font></font><code>3.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（对于大模型和困难的数据集）。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，如果您使用 flag 进行训练</font></font><code>-map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么您将在控制台中看到 mAP 指示器</font></font><code>Last accuracy mAP@0.5 = 18.50%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 该指示器比 Loss 更好，因此在 mAP 增加时进行训练。</font></font></p>
</li>
</ul>
<ol start="2" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练停止后，您应该</font></font><code>.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从中取出一些最后的文件</font></font><code>darknet\build\darknet\x64\backup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并选择其中最好的：</font></font></li>
</ol>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，您在 9000 次迭代后停止训练，但最佳结果可以给出之前的权重之一（7000、8000、9000）。</font><font style="vertical-align: inherit;">它可能是由于过度拟合而发生的。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过度拟合</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 是指您可以从训练数据集中检测图像上的对象，但无法检测任何其他图像上的对象。</font><font style="vertical-align: inherit;">您应该从</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">早期停止点</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获得权重：</font></font></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/15fbf912bbcb893666f90a2f5712a6165aaf19f43b3a144162cf7b410e46e3ac/68747470733a2f2f6873746f2e6f72672f66696c65732f3564632f3761652f3766612f35646337616537666164396434653365623361343834633538626663316666352e706e67"><img src="https://camo.githubusercontent.com/15fbf912bbcb893666f90a2f5712a6165aaf19f43b3a144162cf7b410e46e3ac/68747470733a2f2f6873746f2e6f72672f66696c65732f3564632f3761652f3766612f35646337616537666164396434653365623361343834633538626663316666352e706e67" alt="过拟合" data-canonical-src="https://hsto.org/files/5dc/7ae/7fa/5dc7ae7fad9d4e3eb3a484c58bfc1ff5.png" style="max-width: 100%;"></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要从早期停止点获取权重：</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1. </font><font style="vertical-align: inherit;">首先，在您的文件中，</font></font><code>obj.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您必须指定验证数据集的路径</font></font><code>valid = valid.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（格式</font></font><code>valid.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如 中</font></font><code>train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），如果您没有验证图像，只需复制</font></font><code>data\train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code>data\valid.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 如果训练在 9000 次迭代后停止，要验证之前的一些权重，请使用以下命令：</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如果您使用其他 GitHub 存储库，则使用</font></font><code>darknet.exe detector recall</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... 而不是</font></font><code>darknet.exe detector map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...）</font></font></p>
<ul dir="auto">
<li><code>darknet.exe detector map data/obj.data yolo-obj.cfg backup\yolo-obj_7000.weights</code></li>
<li><code>darknet.exe detector map data/obj.data yolo-obj.cfg backup\yolo-obj_8000.weights</code></li>
<li><code>darknet.exe detector map data/obj.data yolo-obj.cfg backup\yolo-obj_9000.weights</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并比较每个权重（7000、8000、9000）的最后输出行：</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择具有最高 mAP（平均平均精度）</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或 IoU（交并集）的</font><font style="vertical-align: inherit;">权重文件</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更大的mAP</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出权重</font></font><code>yolo-obj_8000.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">——然后</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用这个权重进行检测</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者只是用</font></font><code>-map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flag 来训练：</font></font></p>
<p dir="auto"><code>darknet.exe detector train data/obj.data yolo-obj.cfg yolov4.conv.137 -map</code></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，您将在损失图表窗口中看到 mAP 图表（红线）。</font></font><code>valid=valid.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将使用文件中指定的文件</font></font><code>obj.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>1 Epoch = images_in_train_txt / batch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代）</font><font style="vertical-align: inherit;">每 4 个 Epoch 计算 mAP</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（要更改最大 x 轴值 - 将</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L20"><code>max_batches=</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数更改为</font></font><code>2000*classes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, fe</font></font><code>max_batches=6000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示 3 个类别）</font></font></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5f58ace858a72a3ff15c40bf7e6cf2b75197656ffb0f528739c2206dc3730b4d/68747470733a2f2f6873746f2e6f72672f776562742f79642f766c2f61672f7964766c616775746f66327a636e6a6f64737467726f656e3861632e6a706567"><img src="https://camo.githubusercontent.com/5f58ace858a72a3ff15c40bf7e6cf2b75197656ffb0f528739c2206dc3730b4d/68747470733a2f2f6873746f2e6f72672f776562742f79642f766c2f61672f7964766c616775746f66327a636e6a6f64737467726f656e3861632e6a706567" alt="loss_chart_map_chart" data-canonical-src="https://hsto.org/webt/yd/vl/ag/ydvlagutof2zcnjodstgroen8ac.jpeg" style="max-width: 100%;"></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义对象检测示例：</font></font><code>darknet.exe detector test data/obj.data yolo-obj.cfg yolo-obj_8000.weights</code></p>
<ul dir="auto">
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoU</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（相交于并集）- 特定阈值的对象和检测的平均相交于并集 = 0.24</font></font></p>
</li>
<li>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mAP</font></font></strong><font style="vertical-align: inherit;"></font><code>average precisions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （平均平均精度）-每个类别</font><font style="vertical-align: inherit;">的平均值，其中</font></font><code>average precision</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是同一类别的每个可能阈值（每个检测概率）PR 曲线上 11 个点的平均值（PascalVOC 中的精确召回率，其中精度=TP/(TP+FP) 和 Recall=TP/(TP+FN) )，第 11 页： http: </font></font><a href="http://homepages.inf.ed.ac.uk/ckiw/postscript/ijcv_voc09.pdf" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//homepages.inf.ed.ac.uk/ckiw/postscript/ijcv_voc09.pdf</font></font></a></p>
</li>
</ul>
<p dir="auto"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mAP</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 PascalVOC 竞赛中默认的精度度量，这与</font><font style="vertical-align: inherit;">MS COCO 竞赛中的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AP50 度量相同。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">就 Wiki 而言，指标 Precision 和 Recall 的含义与 PascalVOC 竞赛中的含义略有不同，但</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoU 始终具有相同的含义</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b4ec33f747e82a98aa6f2cab58092daea798a2ff905f8d8b7010d6e6e8138860/68747470733a2f2f6873746f2e6f72672f66696c65732f6361382f3836362f6437362f63613838363664373666623834303232383934306462663434326137663036612e6a7067"><img src="https://camo.githubusercontent.com/b4ec33f747e82a98aa6f2cab58092daea798a2ff905f8d8b7010d6e6e8138860/68747470733a2f2f6873746f2e6f72672f66696c65732f6361382f3836362f6437362f63613838363664373666623834303232383934306462663434326137663036612e6a7067" alt="精确率_召回率_iou" data-canonical-src="https://hsto.org/files/ca8/866/d76/ca8866d76fb840228940dbf442a7f06a.jpg" style="max-width: 100%;"></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-custom-object-detection" class="anchor" aria-hidden="true" tabindex="-1" href="#custom-object-detection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义物体检测</font></font></h3>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义对象检测示例：</font></font><code>darknet.exe detector test data/obj.data yolo-obj.cfg yolo-obj_8000.weights</code></p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3866baed2863bf02231ba5f000683382d2c1aa3c5c7de657ce43e945b48c733c/68747470733a2f2f6873746f2e6f72672f66696c65732f6431322f3165372f3531352f64313231653735313566366134656236393439313366313064653566326236312e6a7067"><img src="https://camo.githubusercontent.com/3866baed2863bf02231ba5f000683382d2c1aa3c5c7de657ce43e945b48c733c/68747470733a2f2f6873746f2e6f72672f66696c65732f6431322f3165372f3531352f64313231653735313566366134656236393439313366313064653566326236312e6a7067" alt="Yolo_v2_training" data-canonical-src="https://hsto.org/files/d12/1e7/515/d121e7515f6a4eb694913f10de5f2b61.jpg" style="max-width: 100%;"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4c3cc7295e0622b919ba9d735a12e2d1b39fa7c0a48c5a63d6ab321278ad8164/68747470733a2f2f6873746f2e6f72672f66696c65732f3732372f6337652f3565392f37323763376535653939626634643461613334303237626236613565346261622e6a7067"><img src="https://camo.githubusercontent.com/4c3cc7295e0622b919ba9d735a12e2d1b39fa7c0a48c5a63d6ab321278ad8164/68747470733a2f2f6873746f2e6f72672f66696c65732f3732372f6337652f3565392f37323763376535653939626634643461613334303237626236613565346261622e6a7067" alt="Yolo_v2_training" data-canonical-src="https://hsto.org/files/727/c7e/5e9/727c7e5e99bf4d4aa34027bb6a5e4bab.jpg" style="max-width: 100%;"></a></th>
</tr>
</thead>
</table>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-to-improve-object-detection" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-improve-object-detection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何改进物体检测</font></font></h2>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练前：</font></font></li>
</ol>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>random=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在您的文件中</font><font style="vertical-align: inherit;">设置标志</font></font><code>.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 它将通过针对不同分辨率训练 Yolo 来提高精度：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L788"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增加 -file 中的网络分辨率</font></font><code>.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>height=608</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>width=608</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 的任何值倍数） - 它将提高精度</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查您要检测的每个对象是否在数据集中强制标记 - 数据集中的任何对象都不应没有标签。</font><font style="vertical-align: inherit;">在大多数训练问题中 - 数据集中存在错误的标签（通过使用某些转换脚本获得标签，用第三方工具标记，...）。</font><font style="vertical-align: inherit;">请始终使用以下方式检查您的数据集：</font></font><a href="https://github.com/AlexeyAB/Yolo_mark"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https ://github.com/AlexeyAB/Yolo_mark</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的Loss非常高，mAP非常低，是训练错误吗？</font></font><code>-show_imgs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在训练命令末尾使用标志</font><font style="vertical-align: inherit;">运行训练，您是否看到正确的对象边界框（在窗口或文件中</font></font><code>aug_...jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）？</font><font style="vertical-align: inherit;">如果没有 - 您的训练数据集是错误的。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于要检测的每个对象 - 训练数据集中必须至少有 1 个相似对象，且具有大致相同的特征：形状、对象侧面、相对大小、旋转角度、倾斜、照明。</font><font style="vertical-align: inherit;">非常理想的是，您的训练数据集包含具有不同尺寸、旋转、照明、不同侧面、不同背景的对象的图像 - 您最好为每个类别拥有 2000 个或更多不同的图像，并且您应该训练迭代或</font></font><code>2000*classes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望您的训练数据集包含您不想检测的带有非标记对象的图像 - 没有边界框的负样本（空</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件） - 使用与带有对象的图像一样多的负样本图像</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记对象的最佳方法是什么：仅标记对象的可见部分，或者标记对象的可见和重叠部分，或者标记比整个对象多一点（有一点间隙）？</font><font style="vertical-align: inherit;">根据您的喜好进行标记 - 您希望如何检测它。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于每个图像中包含大量对象的训练，请在 cfg 文件的</font></font><code>max=200</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后</font></font><code>[yolo]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个层或</font></font><code>[region]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个层中添加参数或更高的值（YoloV3 可以检测到的全局最大对象数是</font></font><code>0,0615234375*(width*height)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宽度和高度是</font></font><code>[net]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cfg 文件中部分</font><font style="vertical-align: inherit;">的参数）</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于训练小物体（图像大小调整为 416x416 后小于 16x16） - 设置</font></font><code>layers = 23</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font></p><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6f718c257815a984253346bba8fb7aa756c55090/cfg/yolov4.cfg#L895"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov4.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         895号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6f718c257815a984253346bba8fb7aa756c55090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6f718c2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L895" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="895"></td>
          <td id="LC895" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">层数</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 54</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
<p></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font></font><code>stride=4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6f718c257815a984253346bba8fb7aa756c55090/cfg/yolov4.cfg#L892"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov4.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         892行在
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6f718c257815a984253346bba8fb7aa756c55090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6f718c2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L892" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="892"></td>
          <td id="LC892" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步幅</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=2</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font></font><code>stride=4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是</font></font><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/6f718c257815a984253346bba8fb7aa756c55090/cfg/yolov4.cfg#L989"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov4.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         989号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/6f718c257815a984253346bba8fb7aa756c55090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6f718c2</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L989" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="989"></td>
          <td id="LC989" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line"> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步幅</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=2</font></font></td>
        </tr>
    </tbody></table>
  </div>
</div>
</li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于小型和大型物体的训练，请使用修改后的模型：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整模型：5 yolo 层：</font></font><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3_5l.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov3_5l.cfg</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小模型：3 yolo 层：</font></font><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-tiny-3l.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-tiny-3l.cfg</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YOLOv4：3 yolo 层：</font></font><a href="https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-custom.cfg" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://raw.githubusercontent.com/AlexeyAB/darknet/master/cfg/yolov4-custom.cfg</font></font></a></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您训练模型将左和右对象区分为单独的类（左/右手、路标上的左/右转等），则要禁用翻转数据增强 -</font></font><code>flip=0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处添加：</font></font></p><div class="Box Box--condensed my-2">
  <div class="Box-header f6">
    <p class="mb-0 text-bold">
      <a href="https://github.com/AlexeyAB/darknet/blob/3d2d0a7c98dbc8923d9ff705b81ff4f7940ea6ff/cfg/yolov3.cfg#L17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗网/cfg/yolov3.cfg</font></font></a>
    </p>
    <p class="mb-0 color-fg-muted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         17号线
      </font></font><a data-pjax="true" class="commit-tease-sha Link--inTextBlock" href="/AlexeyAB/darknet/commit/3d2d0a7c98dbc8923d9ff705b81ff4f7940ea6ff"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3d2d0a7</font></font></a>
    </p>
  </div>
  <div itemprop="text" class="Box-body p-0 blob-wrapper blob-wrapper-embedded data">
    <table class="highlight tab-size mb-0 js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">

        <tbody><tr class="border-0">
          <td id="L17" class="blob-num border-0 px-3 py-0 color-bg-default" data-line-number="17"></td>
          <td id="LC17" class="blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line">  </td>
        </tr>
    </tbody></table>
  </div>
</div>
<p></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般规则 - 您的训练数据集应包含一组您想要检测的对象的相对大小：</font></font></p>
<ul dir="auto">
<li><code>train_network_width * train_obj_width / train_image_width ~= detection_network_width * detection_obj_width / detection_image_width</code></li>
<li><code>train_network_height * train_obj_height / train_image_height ~= detection_network_height * detection_obj_height / detection_image_height</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即，对于测试数据集中的每个对象，训练数据集中必须至少有 1 个具有相同 class_id 和大约相同相对大小的对象：</font></font></p>
<p dir="auto"><code>object width in percent from Training dataset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">〜=</font></font><code>object width in percent from Test dataset</code></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也就是说，如果训练集中仅存在占据图像 80-90% 的对象，则训练后的网络将无法检测占据图像 1-10% 的对象。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了加速训练（降低检测精度）</font></font><code>stopbackward=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 cfg 文件中设置第 136 层的参数</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个：</font></font><code>model of object, side, illumination, scale, each 30 grad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转动角度和倾斜角度 -</font><font style="vertical-align: inherit;">从神经网络的内部角度来看，这些是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的对象。</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，要检测的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同对象</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">越多，应该使用越复杂的网络模型。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了使检测到的有界框更加准确，可以</font></font><code>ignore_thresh = .9 iou_normalizer=0.5 iou_loss=giou</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每层添加3个参数</font></font><code>[yolo]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并进行训练，它将增加mAP@0.9，但减少mAP@0.5。</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅当您是神经检测网络方面的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专家</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时 - 重新计算cfg 文件的数据集的锚点：
</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">在</font><font style="vertical-align: inherit;">cfg 文件的</font><font style="vertical-align: inherit;">3 层中的每层中</font><font style="vertical-align: inherit;">
设置相同的 9 。</font><font style="vertical-align: inherit;">但是您应该更改每个 [yolo] 层的锚点索引</font><font style="vertical-align: inherit;">，因此对于 YOLOv4，第 1 个 [yolo] 层的锚点小于 30x30，第二个小于 60x60，剩余第三个，对于 YOLOv3 反之亦然。</font><font style="vertical-align: inherit;">另外，您应该更改</font><font style="vertical-align: inherit;">每个 [yolo] 层之前的内容。</font><font style="vertical-align: inherit;">如果许多计算出的锚点不适合适当的层 - 那么只需尝试使用所有默认锚点。</font></font><code>height</code><font style="vertical-align: inherit;"></font><code>darknet.exe detector calc_anchors data/obj.data -num_of_clusters 9 -width 416 -height 416</code><font style="vertical-align: inherit;"></font><code>anchors</code><font style="vertical-align: inherit;"></font><code>[yolo]</code><font style="vertical-align: inherit;"></font><code>masks=</code><font style="vertical-align: inherit;"></font><code>filters=(classes + 5)*&lt;number of mask&gt;</code><font style="vertical-align: inherit;"></font></p>
</li>
</ul>
<ol start="2" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练后 - 用于检测：</font></font></li>
</ol>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过在-file (</font></font><code>height=608</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>width=608</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 或 (</font></font><code>height=832</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和) 或（32 的任何值倍数）</font><font style="vertical-align: inherit;">中设置来增加网络分辨率</font></font><code>width=832</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 这会提高精度并可以检测小物体：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L8-L9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无需再次训练网络，只需使用</font></font><code>.weights</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已针对 416x416 分辨率训练的 -file</font></font></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了获得更高的准确性，您应该使用更高分辨率 608x608 或 832x832 进行训练，注意：如果</font></font><code>Out of memory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发生错误，则在</font></font><code>.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中您应该增加</font></font><code>subdivisions=16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 32 或 64：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/0039fd26786ab5f71d5af725fc18b3f521e7acfd/cfg/yolov3.cfg#L4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-to-mark-bounded-boxes-of-objects-and-create-annotation-files" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-mark-bounded-boxes-of-objects-and-create-annotation-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何标记对象的有界框并创建注释文件</font></font></h2>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里，您可以找到带有 GUI 软件的存储库，用于标记对象的有界框并为 Yolo v2 - v4 生成注释文件： https: </font></font><a href="https://github.com/AlexeyAB/Yolo_mark"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/Yolo_mark</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例：</font></font><code>train.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>obj.names</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>obj.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>yolo-obj.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>air</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-6 </font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>bird</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-4</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示 2 类对象（空气、鸟类），并</font></font><code>train_obj.cmd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例如何使用 Yolo v2 - v4 训练此图像集</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于标记图像中对象的不同工具：</font></font></p>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 C++ 中： https: </font></font><a href="https://github.com/AlexeyAB/Yolo_mark"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/AlexeyAB/Yolo_mark</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Python中：https: </font></font><a href="https://github.com/tzutalin/labelImg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/tzutalin/labelImg</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Python中： https: </font></font><a href="https://github.com/Cartucho/OpenLabeling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/Cartucho/OpenLabeling</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 C++ 中： https: </font></font><a href="https://www.ccoderun.ca/darkmark/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.ccoderun.ca/darkmark/</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 JavaScript 中：https: </font></font><a href="https://github.com/opencv/cvat"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/opencv/cvat</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 C++ 中： https: </font></font><a href="https://github.com/jveitchmichaelis/deeplabel"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/jveitchmichaelis/deeplabel</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 C# 中： https: </font></font><a href="https://github.com/BMW-InnovationLab/BMW-Labeltool-Lite"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/BMW-InnovationLab/BMW-Labeltool-Lite</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 版 DL-Annotator（30 美元）：</font></font><a href="https://www.microsoft.com/en-us/p/dlannotator/9nsx79m7t8fn?activetab=pivot:overviewtab" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网址</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v7labs - 最棒的云标记工具（每小时 1.5 美元）：</font></font><a href="https://www.v7labs.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.v7labs.com/</font></font></a></li>
</ol>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-to-use-yolo-as-dll-and-so-libraries" class="anchor" aria-hidden="true" tabindex="-1" href="#how-to-use-yolo-as-dll-and-so-libraries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用Yolo作为DLL和SO库</font></font></h2>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Linux上
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>build.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">构建</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font></font><code>LIBSO=1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code>Makefile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font><code>make</code></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Windows 上
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>build.ps1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>darknet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>cmake</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">构建</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译</font></font><code>build\darknet\yolo_cpp_dll.sln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决方案或</font></font><code>build\darknet\yolo_cpp_dll_no_gpu.sln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解决方案</font></font></li>
</ul>
</li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有2个API：</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C API：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/include/darknet.h"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/include/darknet.h</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 C API 的 Python 示例：
</font></font><ul dir="auto">
<li><a href="https://github.com/AlexeyAB/darknet/blob/master/darknet.py"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/darknet.py</font></font></a></li>
<li><a href="https://github.com/AlexeyAB/darknet/blob/master/darknet_video.py"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/darknet_video.py</font></font></a></li>
</ul>
</li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C++ API：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/include/yolo_v2_class.hpp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/include/yolo_v2_class.hpp</font></font></a></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 C++ API 的 C++ 示例：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/AlexeyAB/darknet/blob/master/src/yolo_console_dll.cpp</font></font></a></li>
</ul>
</li>
</ul>
<hr>
<ol dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要将 Yolo 编译为 C++ DLL 文件</font></font><code>yolo_cpp_dll.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 打开解决方案</font></font><code>build\darknet\yolo_cpp_dll.sln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，设置</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x64</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Release</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后执行以下操作：Build -&gt; Build yolo_cpp_dll</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该已经安装了</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA 10.2</font></font></strong></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用 cuDNN，请执行以下操作：（右键单击项目）-&gt; 属性 -&gt; C/C++ -&gt; 预处理器 -&gt; 预处理器定义，并在行首添加：</font></font><code>CUDNN;</code></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在 C++ 控制台应用程序中使用 Yolo 作为 DLL 文件 - 打开解决方案</font></font><code>build\darknet\yolo_console_dll.sln</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，设置</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x64</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Release</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后执行以下操作：Build -&gt; Build yolo_console_dll</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>build\darknet\x64\yolo_console_dll.exe</code>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用以下命令</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从 Windows 资源管理器运行控制台应用程序</font><font style="vertical-align: inherit;">：</font></font><code>yolo_console_dll.exe data/coco.names yolov4.cfg yolov4.weights test.mp4</code></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动控制台应用程序并输入图像文件名后 - 您将看到每个对象的信息：
</font></font><code>&lt;obj_id&gt; &lt;left_x&gt; &lt;top_y&gt; &lt;width&gt; &lt;height&gt; &lt;probability&gt;</code></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用简单的 OpenCV-GUI，您应该取消</font><font style="vertical-align: inherit;">-file: </font><a href="https://github.com/AlexeyAB/darknet/blob/a6cbaeecde40f91ddc3ea09aa26a03ab5bbf8ba8/src/yolo_console_dll.cpp#L5"><font style="vertical-align: inherit;">link</font></a></font><code>//#define OPENCV</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的注释行</font></font><code>yolo_console_dll.cpp</code><font style="vertical-align: inherit;"></font><a href="https://github.com/AlexeyAB/darknet/blob/a6cbaeecde40f91ddc3ea09aa26a03ab5bbf8ba8/src/yolo_console_dll.cpp#L5"><font style="vertical-align: inherit;"></font></a></p>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在视频文件上查看用于检测的简单示例的源代码：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/ab1c5f9e57b4175f29a6ef39e7e68987d3e98704/src/yolo_console_dll.cpp#L75"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
</li>
</ul>
</li>
</ol>
<p dir="auto"><code>yolo_cpp_dll.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-API：</font></font><a href="https://github.com/AlexeyAB/darknet/blob/master/src/yolo_v2_class.hpp#L42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a></p>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">struct</span> <span class="pl-en">bbox_t</span> {
    <span class="pl-k">unsigned</span> <span class="pl-k">int</span> x, y, w, h;    <span class="pl-c"><span class="pl-c">//</span> (x,y) - top-left corner, (w, h) - width &amp; height of bounded box</span>
    <span class="pl-k">float</span> prob;                    <span class="pl-c"><span class="pl-c">//</span> confidence - probability that the object was found correctly</span>
    <span class="pl-k">unsigned</span> <span class="pl-k">int</span> obj_id;        <span class="pl-c"><span class="pl-c">//</span> class of object - from range [0, classes-1]</span>
    <span class="pl-k">unsigned</span> <span class="pl-k">int</span> track_id;        <span class="pl-c"><span class="pl-c">//</span> tracking id for video (0 - untracked, 1 - inf - tracked object)</span>
    <span class="pl-k">unsigned</span> <span class="pl-k">int</span> frames_counter;<span class="pl-c"><span class="pl-c">//</span> counter of frames on which the object was detected</span>
};

<span class="pl-k">class</span> <span class="pl-en">Detector</span> {
<span class="pl-k">public:</span>
        <span class="pl-en">Detector</span>(std::string cfg_filename, std::string weight_filename, <span class="pl-k">int</span> gpu_id = <span class="pl-c1">0</span>);
        <span class="pl-en">~Detector</span>();

        std::vector&lt;<span class="pl-c1">bbox_t</span>&gt; <span class="pl-en">detect</span>(std::string image_filename, <span class="pl-k">float</span> thresh = <span class="pl-c1">0.2</span>, <span class="pl-k">bool</span> use_mean = <span class="pl-c1">false</span>);
        std::vector&lt;<span class="pl-c1">bbox_t</span>&gt; <span class="pl-en">detect</span>(<span class="pl-c1">image_t</span> img, <span class="pl-k">float</span> thresh = <span class="pl-c1">0.2</span>, <span class="pl-k">bool</span> use_mean = <span class="pl-c1">false</span>);
        <span class="pl-k">static</span> <span class="pl-c1">image_t</span> <span class="pl-en">load_image</span>(std::string image_filename);
        <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">free_image</span>(<span class="pl-c1">image_t</span> m);

#<span class="pl-k">ifdef</span> OPENCV
        std::vector&lt;<span class="pl-c1">bbox_t</span>&gt; <span class="pl-en">detect</span>(cv::Mat mat, <span class="pl-k">float</span> thresh = <span class="pl-c1">0.2</span>, <span class="pl-k">bool</span> use_mean = <span class="pl-c1">false</span>);
        std::shared_ptr&lt;<span class="pl-c1">image_t</span>&gt; <span class="pl-en">mat_to_image_resize</span>(cv::Mat mat) <span class="pl-k">const</span>;
#<span class="pl-k">endif</span>
};</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="struct bbox_t {
    unsigned int x, y, w, h;    // (x,y) - top-left corner, (w, h) - width &amp; height of bounded box
    float prob;                    // confidence - probability that the object was found correctly
    unsigned int obj_id;        // class of object - from range [0, classes-1]
    unsigned int track_id;        // tracking id for video (0 - untracked, 1 - inf - tracked object)
    unsigned int frames_counter;// counter of frames on which the object was detected
};

class Detector {
public:
        Detector(std::string cfg_filename, std::string weight_filename, int gpu_id = 0);
        ~Detector();

        std::vector<bbox_t> detect(std::string image_filename, float thresh = 0.2, bool use_mean = false);
        std::vector<bbox_t> detect(image_t img, float thresh = 0.2, bool use_mean = false);
        static image_t load_image(std::string image_filename);
        static void free_image(image_t m);

#ifdef OPENCV
        std::vector<bbox_t> detect(cv::Mat mat, float thresh = 0.2, bool use_mean = false);
        std::shared_ptr<image_t> mat_to_image_resize(cv::Mat mat) const;
#endif
};" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-citation" class="anchor" aria-hidden="true" tabindex="-1" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引文</font></font></h2>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>@misc{bochkovskiy2020yolov4,
      title={YOLOv4: Optimal Speed and Accuracy of Object Detection}, 
      author={Alexey Bochkovskiy and Chien-Yao Wang and Hong-Yuan Mark Liao},
      year={2020},
      eprint={2004.10934},
      archivePrefix={arXiv},
      primaryClass={cs.CV}
}
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@misc{bochkovskiy2020yolov4,
      title={YOLOv4: Optimal Speed and Accuracy of Object Detection}, 
      author={Alexey Bochkovskiy and Chien-Yao Wang and Hong-Yuan Mark Liao},
      year={2020},
      eprint={2004.10934},
      archivePrefix={arXiv},
      primaryClass={cs.CV}
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>@InProceedings{Wang_2021_CVPR,
    author    = {Wang, Chien-Yao and Bochkovskiy, Alexey and Liao, Hong-Yuan Mark},
    title     = {{Scaled-YOLOv4}: Scaling Cross Stage Partial Network},
    booktitle = {Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)},
    month     = {June},
    year      = {2021},
    pages     = {13029-13038}
}
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@InProceedings{Wang_2021_CVPR,
    author    = {Wang, Chien-Yao and Bochkovskiy, Alexey and Liao, Hong-Yuan Mark},
    title     = {{Scaled-YOLOv4}: Scaling Cross Stage Partial Network},
    booktitle = {Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)},
    month     = {June},
    year      = {2021},
    pages     = {13029-13038}
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</article></div>
